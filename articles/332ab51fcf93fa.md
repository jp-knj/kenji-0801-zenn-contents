---
title: "Route-based Splitting"
emoji: "📚"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---
# はじめに 
Route-based Splitting
We can request resources that are only needed for specific routes, by adding route-based splitting. React Suspenseやloadable-componentsとreact-routerなどのライブラリを組み合わせることで、現在のルートに応じて動的にコンポーネントをロードすることができます。

```typescript
import React, { lazy, Suspense } from "react";
import { render } from "react-dom";
import { Switch, Route, BrowserRouter as Router } from "react-router-dom";

const App = lazy(() => import(/* webpackChunkName: "home" */ "./App"));
const Overview = lazy(() => import(/* webpackChunkName: "overview" */ "./Overview"));
const Settings = lazy(() => import(/* webpackChunkName: "settings" */ "./Settings"));

render(
    <Router>
        <Suspense fallback={<div>Loading...</div>}> 
            <Switch> 
                <Route exact path="/"> 
                    <App /> 
                </Route> 
                <Route path="/overview"> 
                    <Overview /> 
                </Route> 
                <Route path="/settings"> 
                    <Settings /> 
                </Route> 
            </Switch> 
        </Suspense> 
    </Router>,
document.getElementById("root")
);

module.hot.accept();

```
ルートごとにコンポーネントを遅延ロードすることで、現在のルートに必要なコードを含むバンドルだけを要求することになります。多くの人はリダイレクト中にロード時間が発生することに慣れているので、コンポーネントを遅延ロードするのに最適な場所なのです!