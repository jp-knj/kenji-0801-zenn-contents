---
title: "【前半】JavaScriptのベストプラクティスをご存知でない?"
emoji: "🐥"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [javascript, Beginner]
published: false
---
# はじめに
JavaScriptでよく知られているショートハンドやTipsを**30**ほど収集し、ショートコーディングの学習としてアウトプットさせていただきます。

## == ではなく　=== を 使おう!

`==` 等価演算子 ではなく `===` 厳密演算子を使用することを勧める理由として、`==` 等価演算子は文字列と数値の比較の場合、文字列を数値に変換してくれます。また `===` 厳密演算子は、型を変換することなく厳密に等しいならば `true` を返します。ですので、読み手側は等価演算子の知識(文字列を数値に変換してくれる)に悩むことなくコードを読むことができますね。

```javascript:script.js
let a = "1";
let b = 1;

console.log(a==b);   // result：true
console.log(a===b);  // result：false
```

## Falsy値(偽値)について

| false |  false キーワード| 
|  ''  | 空文字列の値 | 
|  null  | 何も値が存在しないこと | 
|  undefined  | プリミティブ値 | 
|  NaN  | 非数 | 
|  0  | 非数 | 

> 非数(英語：Not a Number)とは未定義な値か、特に浮動小数点数の計算の結果で、表すことができない数値(データ型)のことを言います。


非常に使用される便利なショートハンドで if-else文を使用するときにシンプルな記述のできるTipsですね

```javascript:script.js
// Longhand
let result: boolean;
if (x > 100) {
    result = true;
} else {
    result = false;
}

// Shorthand
let result = (x > 10) ? true : false;
console.log(result);
```

 ネストされた条件分岐の場合、このような記述方法も

```javascript:script.js
let x = 300,

result2 = (x > 100) ? 'greater 100' : (x < 50) ? 'less 50' : 'between 50 and 100';

console.log(result2); // "greater than 100"
```

## 複数の変数を宣言する

```javascript:script.js
//Longhand 
let result1;
let result2 = 1;

//Shorthand 
let result1, result2 = 1;
```

## Null, Undefined, Empty をチェックする

```javascript:script.js
// Longhand
if (result1 !== null || result1 !== undefined || result1 !== '') {
    let result2 = result1;
}
// Shorthand
let result2 = result1 || '';
```


## 複数の変数を代入する

複数の変数と複数の値を定義する短縮構文でとても便利ですね。  

```javascript:script.js
//Longhand 
let result1, result2, result3;
result1 = 1;
result2 = 2;
result3 = 3;

//Shorthand 
let [result1, result2, result3] = [1, 2, 3];
```


## If文で複数条件
複数の値を変数で定義したい場合、includes関数を使用して
省略した記述することができますね
```js:script.js
//longhand
if (x === 'abc' || x === 'def' || x === 'ghi' || x ==='jkl') {
    // doing something
}

//shorthand
if (['abc', 'def', 'ghi', 'jkl'].includes(x)) {
   // doing something
}
```

## ??

NULL合体演算子 `??` はリストの中から最初の 定義済み 変数を選択するための短縮構文です。  
a ?? b の結果は:  
a が null あるいは undefined でなければ a,それ以外の場合は b.  

```javascript:script.js
let firstName = null;
let lastName = null;
let nickName = "mike";
// 最初の null/undefined でない値を表示します
alert(firstName ?? lastName ?? nickName ?? "Anonymous"); // mike
```

## If 条件分岐文

`true` 、`undefined` , `null` を確認してくれますね  　　

```javascript:script.js
// Longhand
if (result1 === true) or if (result1 !== "") or if (result1 !== null)

// Shorthand //it will check empty string,null and undefined too
if (result1)
```

## &&を使った複合条件

変数が true であれば, fucnction を呼び出すときに、利用できますね

```javascript:script.js
//Longhand 
if (result1) {
 callMethod(); 
} 
//Shorthand 
result1 && callMethod();
```

## forEachループの省略形

Iteration(反復)でよく使われている省略形の一つを紹介

```javascript:script.js
// Longhand
for (var i = 0; i < testData.length; i++)

// Shorthand
for (let i in testData) or  for (let i of testData)
```

Array(配列)を変数に定義する

```javascript:script.js
function testData(element, index, array) {
  console.log('test[' + index + '] = ' + element);
}

[11, 24, 32].forEach(testData);
// logs: test[0] = 11, test[1] = 24, test[2] = 32
```

## 比較される戻り値

5行ほどかかるコードを1行に短縮されますね。

```javascript:script.js
// Longhand
let test;
function checkReturn() {
  if (!(test === undefined)) {
    return test;
  } else {
    return callMe('test');
  }
}
let data = checkReturn();
console.log(data); //output test

// Shorthand
function callMe(val) {
  console.log(val);
}

function checkReturn() {
    return test || callMe('test');
}
```

## アロー関数

```javascript:script.js
//Longhand 
function add(a, b) { 
   return a + b; 
} 
//Shorthand 
const add = (a, b) => a + b;
More examples.
function callMe(name) {
  console.log('Hello', name);
}
callMe = name => console.log('Hello', name);
```


## 三項演算子を使ったfunctionの呼び出し

```javascript:script.js
// Longhand
function result1() {　console.log('result1');　};
function result2() {　console.log('result2');　};

let result3 = 1;
if (result3 == 1){
  result1();
} else {
  result2();
}

// Shorthand
(result3 === 1? result1:result2)();
```

## Switchの省略形

key-valueのObjectに定義し、条件を使用する

```javascript:script.js
// Longhand
switch (data) {
  case 1:
    result1();
  break;

  case 2:
    result2();
  break;

  case 3:
    test();
  break;
  // And so on...
}

// Shorthand
let data = {
  1: result1,
  2: result2,
  3: test
};
data[something] && data[something]();
```

### 参考にした記事
[JavaScript ショートコードテクニック集（ES6含む）](https://qiita.com/ichimonji_haji/items/f602f6c437be9e7daa88)
https://developer.mozilla.org/ja/docs/Glossary/Falsy
## まとめ
