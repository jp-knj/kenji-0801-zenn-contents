---
title: "計画と実践: WCAG-EM"
---
## Web アクセシビリティの実践と JIS X 8341-3 の活用
アクセシビリティ向上のための効果的な取り組み方法として、ウェブアクセシビリティ基盤委員会が提唱する JIS X 8341-3 の利用プロセスについて詳しく解説します。

## JIS X 8341-3 とは
JIS X 8341-3 はウェブアクセシビリティの品質を確保するガイドラインとして JIS 規格に制定されました。この規格はウェブコンテンツの達成基準を明確にしています。Web コンテンツの提供者はこの規格を基に、多くの人々に使いやすいコンテンツを提供する努力を続ける必要があります。

### 継続的な取り組みとまとめ
ウェブコンテンツは常に変化するものです。新しいコンテンツの追加や既存コンテンツの更新など、変更があるたびにアクセシビリティの確認と改善が必要です。また、ウェブ技術やユーザーのニーズの変化に応じて、アクセシビリティ方針の見直しも行うことが重要です。JIS X 8341-3 は、この取り組みをサポートするための重要なガイドラインとなっています。

### 方針を策定する
- **スコープの定義**: アクセシビリティの取り組みを始める前に、対象となるページやコンポーネントを明確にします。
- **適合レベルの選定**: WCAG には 3 つの適合レベル（レベル A、レベル AA、レベル AAA）があります。初めての取り組みでは、レベル A を目標に設定し、段階的に高いレベルを目指すことをおすすめします。

### 制作する
- **WCAG 2.1を参考に**: 制作時には、WCAG 2.1 のガイドラインを参考にします。全文を読むのは大変なので、クイックリファレンスを利用して、必要な達成基準を確認しながらデザインや開発を進めます。詳細が必要な場合は、解説書を参照するとよいでしょう。

### 試験する
- **達成基準チェックリストの利用**: 制作したコンテンツが達成基準を満たしているかを確認するため、ウェブアクセシビリティ基盤委員会が提供する試験実施ガイドラインを利用します。

https://waic.jp/docs/jis2016/test-guidelines/202012/gcl_example.html

## WCAG-EM とは
**WCAG-EM**は、Web サイトのアクセシビリティ準拠度を評価するための手順を示すものです。これは、WCAG(Web Content Accessibility Guidelines)の標準に基づいています。この評価方法は、アクセシビリティガイドラインを深く理解した上で使用されるべきです。

### WCAG-EM のステップ
この評価は主に 5 つの主要なステップから構成されています。
1. **スコープを定義**: どの Web を評価の対象とするか、何を目標として評価するか、そしてどの WCAG のレベル（A、AA、または AAA）に基づいて評価するかを決定します。
2. **Web サイトの調査**: Web サイトの主要なページ、頻繁に使用されるページ、機能や多様なコンテンツの種類などを特定します。
3. **サンプルページの選定**: 全ページを評価することは難しいでしょう、代表的なページやランダムに選ばれたページを評価することが考慮されます。
4. **サンプルページの評価**: 選ばれたサンプルが WCAG の基準に準拠しているかどうかを確認します。
5. **評価結果の報告**: 最後に、評価の結果をまとめて報告し、サイトがどれだけアクセシブルであるかを示します。

この記事では、上記のステップの詳細とともに、WCAG の概念や用語の簡単な説明も提供しています。アクセシビリティは Web の普及にとって不可欠なものであり、これらのガイドラインは、それを確保するための鍵となるものです。

https://www.atmail.com/wp-content/uploads/2023/03/20221010-Atmail-Statement-of-Conformance-Intopia.pdf

https://waic.jp/knowledge/accessibility/#process

### テストケースワークシート
- **テストケース名:** WCAG_1.4.1_UseOfColor
- **テストケース目的:**
- **システム要件:**
- **テストケースタイプ:**
- **WCAGガイドライン:** WCAG_1.4.1_UseOfColor
- **対象:** 
- **作成者:** 
- **実行者:**

### テスト情報
| **テスト名**    | **説明**                                                                                                                                                                                                              |
|:------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Webアクセシビリティ | 視覚的手段として使用されていないことを確認するために作成されました。<br>- 色が情報を伝える<br>- アクションを示す<br>- 応答を促す<br>- 視覚要素を区別する唯一の視覚的手段として使用されていない<br>[WCAGガイドライン参照](https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-without-color.html)  |

### 実行ステップ
| **説明**                                                        | **期待結果**                                                                                     | 
|:--------------------------------------------------------------|:---------------------------------------------------------------------------------------------|
| NVDAスクリーンリーダーを起動する。<br>スクリーンリーダーの音声を有効にする。                    | スクリーンリーダー(NVDAまたはJAWS)が正常に起動すること                                                             |
| ブラウザを起動する。<br>ウェブサイトに移動する。                                    | ウェブサイトが正常に起動し、<br>スクリーンリーダーによって正しくアナウンスされること                                                 |
| キーボードのTabキーを押して<br>ウェブサイト内を移動する。<br>矢印キーを使用して<br>ページ内の画像に移動する | スクリーンリーダーが<br>ページの内容を正確に読み上げること                                                              |
| 視覚的手段として<br>使用されていないことを確認する                                   | ユーザーが特定の意味を表すために<br>色分けされたオブジェクトに移動するとき<br>そのオブジェクトにはスクリーンリーダーで<br>読み上げられる代替テキストが含まれている必要がある |

### 結果
| **合格** | **不合格** | **未テスト** | **コメント** |
|--------|---------|----------|----------|
| 完了     |         |          |          |

### スコープを定義
- Web サイトの名前
- Web サイトの範囲
- WCAG のバージョン
  - WCAG 2.0, WCAG 2.1
- WCAG のレベル / Conformance target
  - A, AA, AAA
- アクセシビリティの基準
  - OS（Windows、macOS、iOS、Android など）
  - Web ブラウザ（Google Chrome、Firefox、Safari、Edge など）
  - 支援技術（NVDA、JAWS、VoiceOver、TalkBack など）

#### 評価対象のWebコンテンツの特定
評価範囲内の Web ページやその機能・状態を設定する段階です。アクセスする際の Web ページが明確で、目的のサイトが簡単に探せるようにするため、URL のリストの使用が推奨されています。また、評価はモバイル、タブレット、デスクトップなどのデバイスや、言語・地域ごとに異なる場合がありますので、それらの範囲も明確にします。

#### 評価の目標の定義
どの WCAG 2.0 の適合レベルを目指すかを決定します。一般的には、レベル AA が推奨基準とされていますが、全体像を正確に把握するために、レベル AAA を基準にするのも良い選択です。レベル AAA を基準にすると将来的なアクセシビリティの改善を計画するための参考材料にできます。

#### アクセシビリティの基準の設定
アクセシビリティをサポートするための Web ブラウザ、支援技術、その他のユーザーエージェントを定義します。例として、OS、ブラウザ、支援技術の組み合わせを決めます。

このステップでは、評価者は Web サイトが正しく動作することを期待される OS、Web ブラウザ、支援技術、およびその他のユーザーエージェントの組み合わせを決定します。目的のアクセシビリティサポートの共通の期待を一致させるために、協力して定義します。

### Web サイトの調査
対象の Web サイトの詳細を調査します。その中で、サイトの使われ方、目的や主要な機能について理解することが目的です。すべての情報を把握することは難しいでしょう。このステップでは、サイトの全てのページ、機能や使用されている技術のリスト作成を目指します。そして、この調査の成果を元に次のステップで詳しく評価を進めます。簡易チェックは、後程の詳細な評価の時に、特定の問題を見つけ出す手助けとなります。例として、色のコントラストが足りないページや、文書の構造が不適切なページを見つけて、詳細な評価に備えることができます。
- Web 技術
  - HTML, CSS, JavaScript, WAI-ARIA
  - SMIL, SVG, PDF、CMS
  - ライブラリ、フレームワーク
  - 指定された URL
- 主要な機能
  - Web サイトのショップエリアから商品を選択し、購入する
  - 提供されたアンケートを完了し、提出する
  - アカウントを登録する
#### Web サイトの主要なページの特定
対象となる Web サイトの主要なページや、状態を持つページを特定します。多くの場合、ホームページや主要なページは、サイト全体のヘッダーやナビゲーション、フッターからアクセスできます。このステップで、評価対象の主要なページのリストを作成します。

#### Webサイトの中核となる機能を特定
対象となる Web サイトの主要な機能をリストアップします。サイトを探索して、主要な機能を確認します。オンラインショップの購入機能など、一部の機能はすぐに特定できルでしょう。ですが、サブ機能を見つけるのは難しいときもあります。このステップで、利用者にとって重要な機能のリストを作成します。

注： このステップの目的は、すべての機能をリストアップすることではなく、サイトの主要な目的に関連する中心的な機能を特定することです。

#### 様々なWebページのタイプを特定
異なるデザインや機能を持つ Web ページを特定します。これらのページは、異なるデザインテンプレートやスクリプトによって作られ、その内容や外観が異なることがあります。このステップで、評価者は異なるタイプのページやページの状態を特定します。

#### 使用されるWeb技術を特定
Web サイトを動作させるための技術を特定します。基本的な技術（HTML、CSS）から、補助技術（JavaScript、WAI-ARIA）、そして特別な技術（SMIL、SVG、PDF）まで、Web サイトの動作に関連する技術を確認します。

注： 評価結果を報告する際、使用されているコンテンツ管理システムやライブラリ、フレームワークなどの情報も役立ちます。

#### アクセシビリティ関連のページを特定
障害を持つユーザーやアクセシビリティに関連する情報を提供するページを特定します。これには、アクセシビリティに関する情報、ヘルプ、設定方法などの説明が含まれるページもあります。

### リスト化された条件
適用性や期待値には、何かが適用/合格されるために満たされなければならない複数の条件があります。条件が 3 つ以上ある場合、テキスト内にすべてをリスト化するのは読みにくく、理解しにくくなることがあります。代わりに、以下のフォーマットに従って箇条書きのリストを使用してください：

何らかの条件。.. 以下の条件が（すべて | いずれか）真であるとき
1. (X)は条件 A を持っている; (そして | または）
2. (X)は条件 B を持っている; (そして | または）
3. (X)は条件 C を持っている。

この表現は、容易に読み取れるように設計されていますが、すべての状況で機能するわけではありません。すべてのケースで、読みやすさを優先してフォーマットを選択してください。さらに、条件をリスト化する際に以下の点を考慮してください：

- 「以下の条件が（すべて | 少なくとも 1 つ）真である場合」という表現は、使用に応じて変更できます。
- ラベルはオプションであり、2 つのリストには推奨されず、4 つ以上の条件のリストには推奨されます。ラベルは短く、1〜2 語にしてください。ラベルがリストの明確さを向上させない場合は、長いリストであっても使用しないでください。
- 各条件で主語を何らかの形で参照する必要があります。例えば、「要素には。.。がある」という表現を使用するか、「要素の innerText には。.。がある」という表現を使用します。
- 条件が 3 つ以上ある場合は、リストを使用する傾向があります。最も重要な条件はフレーズ内に保持し、リスト内には入れないでください。
- 一般的にどれが最も一般的かの順序で物事を配置してください。順序付けられていないリストでも、これによりリストを理解するのが容易になります。
- ネストされた条件のリストは避けてください。これらは読むのが難しいです。代わりに、条件を再構成してみてください。
- 似たような概念を同じリスト項目にまとめます。例えば、何かが絶対値または固定値を持つことができる場合、これら 2 つは密接に関連しているので、1 つの項目としてまとめることで条件の数を制限するのに役立ちます。
- リストの各条件を個別に確認するテストケースを作成します。これにより、その特定の条件が必要である理由が理解しやすくなります。
- テストケースの説明で条件のラベルを参照して、リンクを明示的にする。
- テストケースを、それらが確認する条件と同じ順序で並べます。条件が最も重要から最も重要でない順に順序付けられている場合、これはテストケースも重要度で順序付けられていることを意味します。

### テストケース設計
ACT ルールのテストケースの目的は、実装者がその実装が ACT ルールと一致していることを確認することを可能にすることです。これには、ルールがその「重要な」側面すべてのテストケースを持つことが求められます。それを超えて、テストケースのリストをどれだけ詳細にするかは、ルールの著者に委ねられています。テストするエッジケースの決定は、実際の例の問題に基づいて行う必要があります。

テストケースの良いバランスを取るために、以下の原則を考慮する必要があります。
- ルールのすべての「条件」をテストする
- 一度に 1 つのことだけをテストする
- アクセシビリティとの整合性を確保する
- テストケースを小さく保つ
- 定義を表面的にテストする
- （アクセシビリティ）サポートによって争われるテストケースを避ける
- これらすべてに例外があることを念頭に置く

## 各条件をテストする
最低限、適用性と期待のすべての「条件」には、それに対する正と負のテストケースが必要です。例えば、「img 要素と svg 要素」というフレーズには 2 つの条件が含まれています。このようなフレーズを適用性に含めるルールでは、以下のテストケースが必要です：
1. ルールに合格する img
2. ルールに合格する svg
3. ルールに合格しない img
4. ルールに合格しない svg
5. 適用されない他の要素

これらのテストケースを提供することで、img 要素を正しくテストする実装者が、すべての svg 要素を通過させる部分的な実装として識別され、すべての svg 要素が失敗する実装が一貫性のない実装として識別されることを確保します。

## 一度に1つのことをテストする
テストケースは一度に 1 つの「条件」だけをテストする必要があります。これにより、それらを集中的にし、理由をつけやすくします。複数のケースを 1 つの例に組み合わせることは魅力的かもしれませんが、その例が期待される結果を得られない場合、問題の原因を特定するのは難しいです。

テストケースを作成する際、条件付きのロジックを見ることが重要です。例えば、適用性が「要素が"見える"かつ"アクセシビリティツリーに含まれている"場合に適用される」と言っている場合、合格した例と失敗した例に加えて、これが真でない 3 つの方法があり、すべての方法をテストする必要があります：
1. 適用されない：見えるが、アクセシビリティツリーに含まれていない
2. 適用されない：見えないが、アクセシビリティツリーに含まれている
3. 適用されない：見えないし、アクセシビリティツリーにも含まれていない

## アクセシビリティ要件との整合性
実装とルールのマッピングが機能するためには、テストケースはアクセシビリティ要件と一致している必要があります。これには、合格したテストケースと適用されないテストケースが、ルールのアクセシビリティ要件、およびこのルールが設計された任意の複合ルールのアクセシビリティ要件を満たすことが求められます。アクセシビリティ要件を満たさない適用されない条件は含めないでください。例えば、2.4.2 ページのタイトルをテストする場合、タイトルが記述的であることをテストするルールは、タイトルが必要であるにもかかわらずタイトルがないページの適用されない例を持つことはできません。

これに関連して、失敗したテストケースは、1 つの理由だけでアクセシビリティ要件に失敗する必要があります。4.1.2 名前、役割、値の失敗したテストケースは、アクセシブルな名前と役割の両方に問題があってはなりません。ルールがアクセシブルな名前に関するものである場合、役割と値は正しくなければなりません。

実装のマッピングが適用されない結果と合格した結果の間にほとんど違いを持たないため、実際にはアクセシビリティ要件を満たしている「悪そうな」適用されないテスト

ケースを持つ方がよいことがよくあります。そのような場合、ツールが適用性を正しく実装していない場合、このテストケースに失敗します。例えば、1.4.3 コントラスト（最小）をテストする場合、ルールは無効なボタンに適用されない場合があります（これは成功基準の 2 番目の例外に一致するため）；この条件の適用されないテストケースは、背景とのコントラスト比が 2.0:1 の無効なボタンを含む場合が、コントラスト比が 5.0:1 の無効なボタンを含む場合よりも優れています（この 2 番目のケースでは、ツールが無効なボタンを無視しない場合、テストケースに合格し、ルールの正しい実装を主張できます）。適用性の一部でケースをテストする場合、"悪そうな"適用されない例を持つことは常に可能ではありません。

## 小さなテストケース
テスト設計の一般的な原則は、テストケースを小さく保つことです。不要なコンテンツは避けてください。それは結果に予期しない副作用を引き起こす可能性があります。例えば、ボタンに関するルールは、すべてのテストケースに lang 属性と title 要素を持つ HTML 要素を必要としない。これらの要素はボタンのアクセシビリティに影響を与えません。テストケースのすべてのコードは、ルールまたはそのアクセシビリティ要件に関連している必要があります。

その例外として、ACT ルールは良好なアクセシビリティ慣行を示すよう努力する必要があります。有効な autocomplete 属性に関するルールは、autocomplete 属性を持つフォームコントロールのラベルを提供する必要があります。これらのラベルは、入力の意図された目的を示すコンテキストを提供するとともに、フォームコントロールのラベルを提供する良い慣行を示します。

## 定義の表面的なテスト
ACT ルールは、重複を避け、詳細を「隠す」ために定義を使用します。"セマンティックロール"、"可視"、"アクセシブルな名前"などの定義は、多くのルールで使用され、ACT の基本的な構築ブロックです。特定の定義を使用するすべてのルールで多くの類似したテストケースを持たないようにするため、定義のテストを最小限に抑えるのが最善です。

例として、"X には空でないアクセシブルな名前がある"というルールはすべて、要素がアクセシブルな名前を持つことができる異なる方法を確認するテストケースを持っています。img の場合、それは alt、title、および aria-label(ledby)属性です。これにより、基本が理解されていることを確保するための十分なカバレッジが作成されます。しかし、これらのルールは、アクセシブルな名前の計算が正しく行われていることを確認する詳細には入りません。実装者がアクセシブルな名前の計算で aria-owns を考慮するかどうかは、「空でないアクセシブルな名前」のルールには関連性がありません。

これは、定義のエッジケースに絶対にテストケースを持たないということではありません。特定のエッジケースがルールの結果に影響を与える実際の例がある場合、そのエッジケースをカバーするためにルールにテストケースを追加する必要があります。

## （アクセシビリティ）サポートの問題を

避ける

ルールが完全にサポートされていない技術を含むことはかなり一般的です。例えば、ARIA の役割は数年ごとに追加され、新しい役割が支援技術に採用されるのに時間がかかります。特定の技術にほとんどまたはまったくサポートがない場合、ルールはこのためのテストケースを持つべきではありません。

特定の技術に対するサポートが十分にある場合、テストケースの検討を受けるべきです。部分的にサポートされている技術を導入する最良の方法は、それらの技術のために失敗したテストケースだけを提供することです。これにより、この技術をサポートしていない実装が部分的に一貫しているとされます。

広くサポートされている技術は、すべてのテストケースで使用できます。すべての状況で、テストケースが必要かどうかを決定する前の原則がまだ適用されます。

## 例外
これらの原則のすべてに例外があることを知っておくことが重要です。特定のテストケースを含めない技術的な理由があるかもしれません。また、組み合わせの数がテストの合理的な数を必要とする場合もあります。合格したテストケースがすべてのアクセシビリティ要件を満たすことは、時々論理的に意味をなさないことがあります。一部の定義はテストを必要とせず、他の定義は詳細なテストが必要であると主張できます。など。

実際の例が一貫性を前進させるための駆動力となることも意味しており、ルールの著者はすべての考えられる状況のテストケースを書くことに困ってはいけません。ルールの著者は、初版の公開時に実装者間で 95%の一貫性を目指すべきです。このパーセンテージを測定する必要はありません。これは、目指すべきもののアイディアを提供するためのものです。より多くの例が発見されるにつれて、この数値は時間とともに上がります。


https://engineers-hub.teachable.com/

https://web.dev/learn/accessibility/test-manual/

[^1]:[Website Accessibility Conformance Evaluation Methodology](https://www.w3.org/TR/WCAG-EM/)