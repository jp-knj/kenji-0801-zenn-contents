---
title: "デザインシステムを構築しよう - コンポーネントを構築する"
---
## コンポーネントを構築する 

Kai がデザインシステムの基礎を捉えたところで、いよいよこれらのコンセプトをまとめていくことになります。

### dayToggleコンポーネント
Habitz アプリのコアフローの1つは、新しい習慣を作ることです。このプロセスの一環として、ユーザーは習慣のスケジュールにどの日を含めるかを選択します。

Kaiはこのスケジュールのパターンを作りたいと考えていますが、パターンを作るには、個々の`dayToggle`コンポーネントが必要です。

![](https://storage.googleapis.com/zenn-user-upload/b2e726fb4eee-20230606.png)

#### variant / バリアントの作成
このコンポーネントには、選択されていない状態と、選択状態の2種類の状態が必要です。Kai は、この選択状態の既存の要素を使用します

---
筆者による補足説明になります。

#### variant とは
複数のコンポーネントの状態をひとつにまとめて管理する機能です。
具体例を挙げると Button の Default, Hover, Focus, Disabled 状態を各コンポーネントで作っていましたが、variants を使うことでひとつのコンポーネントで整理できるようになりました。
Config2023 では、variables という新機能(beta)が追加され、variables を使用すると、さまざまなブランドテーマやデバイスフォーマットに対応したデザインを作成できるようになりました。さらに variables はトークンとしてエクスポートできるようになり、デザインとコードがよりシームレスに連携できるようになりました。

variant についての解説動画
https://www.youtube.com/watch?v=y29Xwt9dET0&t=2s

variant についての解説記事
https://help.figma.com/hc/en-us/articles/360056440594-Create-and-use-variants

variables についての解説記事
https://help.figma.com/hc/en-us/articles/15339657135383-Guide-to-variables-in-Figma

variables についての解説動画
https://www.youtube.com/watch?v=1ONxxlJnvdM

より詳細な操作方法はこちらを参照してください。
https://help.figma.com/hc/en-us/articles/14548865734679-Lesson-3-Build-your-design-system#create-variants

#### 質問
Habitz では、1日に何度も習慣を記録することができます。習慣の頻度を表示する variant はどのように作るのでしょうか？ Habitz チームが作ったものをファイルで確認してみてください。

### テキストコンポーネントプロパティを追加する
Habitz チームは、このコンポーネントを曜日ごとに使う必要があります。Kai は、曜日ごとに variant を作成することもできますが、多言語対応をよりよくするために、代わりにテキストコンポーネントプロパティを作成しました。これにより、デザイナーは曜日に合わせてテキストを更新することができます。

#### デフォルトの variant を設定する
最後に、Kai は選択されていない variant を、このセットのデフォルトのコンポーネントにしたいと思います。Figma では、デフォルトの variant は左上隅のコンポーネントです。彼らは variant を適当に入れ替えました。そして、そのコンポーネントセットに `dayToggle` という名前をつけます。

### actionPresentationCard コンポーネント
Habitz では、Call To Action ボタンの他に、3つの要素で構成されるインタラクティブカードがあります

- 編集可能なテキストレイヤー
- イラスト
- アイコン

### デフォルトコンポーネントの構築
カードはインタラクティブなものなので、Default、Hover、Focus、Press という4つの状態が必要です。Kai は、まずデフォルトの状態を、先ほど紹介した3つの要素で構築します。

フレームフィルを `primary/1`、エフェクトを `elevation/100` に設定し、デザイナーが調整可能なコンポーネントの側面をコンポーネントプロパティとして設定します。

#### インスタンススワッププロパティ: イラスト
まず、カードのイラストを別のイラストと入れ替える方法を定義する必要があります。

#### テキストプロパティ
次に、Kai は、テキストレイヤーの内容を更新できるようにしたいと思います。
---
筆者による説明になるのですが、テキストプロパティは、カスタマイズ可能なテキストをもつプロパティです。
- フレームなどでレイヤー階層が深くなっても、複数回クリックして、テキストの変更をせずに済む
- 複数のコンポーネント内のテキストを同時修正ができる
- デザインとコードとの整合性が取れる（一貫性を高められる）
- 変更可能なテキストが把握しやすくなる

#### インスタンススワッププロパティ：icon
Kai はデザイナーに、コンポーネントのデフォルトアイコンを別のアイコンに変更できるようにしたいと考えています。そのためには、[インスタンススワッププロパティ](https://help.figma.com/hc/en-us/articles/5579474826519#h_01G2Q5FYN2ADEDQ3ZSB1KKY8Z0)を使用します。

### variant の作成
Kaiがデフォルトの状態のコンポーネントプロパティを持つようになったので、残りの状態のための variant を設定することができます。

![](https://storage.googleapis.com/zenn-user-upload/0c0bd9780ba4-20230614.png)

Kai たちは、プロダクトのためにさらに多くのコンポーネントを作り続けていて、確認されたい方は Habitz ファイルの Components ページを見てください。

https://www.figma.com/community/file/1243224504456122927/Habitz-design-system
