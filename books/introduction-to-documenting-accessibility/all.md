---
title: "下書き"
---
## この本について
アクセシビリティは、残念ながら多くのプロジェクトではまだ後回しにされています。インタラクションやアクセシビリティの要件はドキュメントにされないことが多いでしょう。デザイナーが考慮しても、開発チームにデザインカンプを引き渡す際に抜け漏れや忘れ去られてしまうこともあります。そして、実装後にアクセシビリティを修正するには、最初に正しく構築するよりも多くのコストがかかります。

デザインシステムにアクセシビリティは必要不可欠です。

障がいのあるユーザーはオンラインユーザーの少数派であるという誤解があります。私たちはアクセシビリティを支援技術や色覚異常のような視覚障害を持つ人々だけに関連付ける傾向があります。しかし、デザインチームは、認知障害や失読症を持つ人々がデジタルプロダクトをどのように体験するかも考慮しなければなりません。

令和3年の障害者白書によると、人口千人当たりの人数でみるとき
- 身体障害者は 34 人
- 知的障害者は 9 人
- 精神障害者は 33 人

複数の障害を併せ持つ者もいるため、単純な合計にはならないものの、国民のおよそ 7.6 ％が何らかの障害を有していることになります。

他にも、一時的な障がいを持つユーザーもいるでしょう。
具体例を挙げると
- 腕を骨折してしまい、マウスを使えないユーザー
- メガネを忘れてしまい画面が見え辛いユーザー
- 右手をケガしてしまい、左手のみで操作しているユーザー

上記の数字や例を見るとき、組織は障がい者が提供するビジネス上の価値も考慮しなければなりません。ここでは、デザインシステムにアクセシビリティやインタラクションをどのようにドキュメントやデザインプロセスに組み込んでいくかを取り上げていきます。

優れたドキュメンテーションは、チームが正しい方法でアクセシビリティ要件を実装するのに役立ちます。より良い、よりインクルーシブなプロダクトを構築するために、デザイナーがアクセシビリティとインタラクションの要件をさまざまな側面からドキュメントに残す理由、何を、どのようにするのかを提示していきます。

## 対象読者
- デザインシステムを運用するメンバーが少数で、リソースの 20%～30% しか割けない状況の方
- アクセシビリティをどのように進めていけば良いかわからない方

## 何を学べるのか
- アクセシビリティをドキュメントに残す理由
- ドキュメントに残すべきこと
- ドキュメントに残す方法
- ドキュメントに残す人はだれか

## この本の構成
### 1部
- アクセシビリティをドキュメントに残す理由
### 2部
- どこでどのようにアクセシビリティをドキュメントに残すべきか
- デザイナーは何をドキュメントに残すのか
- ページとコンポーネントのアクセシビリティをどう残すべきか
### 3部
- だれがいつドキュメントに残すべきか

------------------------------------------------------------
## アクセシビリティについて
### アクセシビリティとデザインシステムの価値
アクセシビリティの価値を理解することは、デザインシステムの構築時に非常に重要です。デザインコンポーネントとコードがアクセシビリティ標準に適合しているか最初に確認することで、アクセス問題を未然に防ぐことができます。アクセシビリティガイドラインを基盤とするデザインシステムは、ユーザビリティの向上にも寄与します。

### アクセシビリティの問題とユーザビリティ
アクセシビリティの問題は主に以下のようなものです：
- ユーザーが情報を取得できない。
- ユーザーが操作できない。
- ユーザーが理解できない。
- デバイスを変更した際、情報の取得が困難になる。

これらの問題は多くのユーザーに共通しています。具体例として、以下のような事例が挙げられます：
- スクリーンリーダーで内容を理解できない（代替テキストがない画像など）。
- キーボード操作ができない。
- 音声がないと動画の内容を理解できない（キャプションがない場合）。

ユーザビリティの問題は以下のようなものです：
- 使いにくい。
- 分かりにくい。

これらの問題は、ユーザーごとに評価が異なることがあります。具体例を挙げると：
- 読みにくい文章（段落分けや小見出しがない）。
- テキストリンクが識別しづらい（下線がないなど）。
- ボタンのアイコンの意味が不明瞭（テキストラベルがない）。

### アクセシビリティの目的とガイドライン
Webコンテンツの制作や機能の実装の主な目的は、アクセシビリティのガイドラインを満たすことではなく、ユーザーがタスクを効率的に完了できるようサポートすることです。

> このガイドラインは、高齢者のウェブコンテンツ利用を向上させるものであり、利用者全般のユーザビリティも高めることを意図しています。
引用元: [0B イントロダクション｜日本工業規格「JIS X 8341-3:2016」](https://waic.jp/docs/jis2016/understanding/201604/)

詳しい情報については、[こちらの記事](https://www.accessibility.com/blog/whats-the-difference-between-usability-and-accessibility)も参照してください。JIS X 8341-3:2016の達成基準には、ユーザビリティを向上させる要素も多く含まれています。

### UXの向上とアクセシビリティの共通点
UXを向上させるデザインTipsとアクセシビリティのガイドラインには多くの共通点があります。例えば：
- ページタイトルは内容を明確に伝える。
- リンクテキストはリンク先の内容を明示する。
- 自動再生の音声や動画は避ける。
- キーボードのみでの操作を可能にする。
- 制限時間内での操作を強制しない。
- サイトマップを提供する
- サイト内検索機能を提供する
- エラーメッセージは、エラーの内容と指示を分かりやすく説明する
- 共通した機能の見た目やラベルには、一貫性を持たせる
- ナビゲーションには、一貫性を持たせる
- Webサイト内での現在位置が分かるようにする））

アクセシビリティは、ユーザーの操作の困難さを軽減し、ユーザビリティを向上させるためのものです。

## Webアクセシビリティを確保することによって
### より多くのユーザーが利用できる
Webコンテンツを利用するときのユーザーが直面する問題や不便さが解消されることにより、より多くのユーザーが快適に利用できるようになります。
- 支援技術を使用している障害のある人
- 加齢により視覚や聴覚などの能力が低下している中高年やシニアの人
- 一時的に普段とは異なる状況で利用しなければならない人

### 多様化する利用環境に対応できる
多種多様なユーザーの利用環境をサポートすることができます。
- デバイス：PC、携帯、スマートフォン、タブレット端末、テレビ、ゲーム端末、家電、クルマなど
- OS：Windows、Mac、Android、iOSなど
- ブラウザ：Edge、Google Chrome、Firefox、Safari、Operaなど
- 操作手段：マウス、キーボード、タッチ、音声など
- 支援技術：スクリーンリーダー、点字ディスプレイ、画面拡大機能、色反転機能、オンスクリーン・キーボード、マウス・エミュレータ、スイッチなど

### 場面や状況を選ばず、より快適な体験を提供できる
スマートフォンやタブレット端末の普及により、Webコンテンツは場所を選ばずに利用できるようになりました。アクセシビリティを確保することによって、ユーザーが利用したいときに、より快適に利用しやすくなります。
- 屋内：家、学校、職場、図書館、カフェ、レストランなど
- 屋外：日なた、日陰、公園、路上など
- 移動中：電車、地下鉄、バス、タクシー、駅のホーム、待合室、空港など
- その他：災害などの緊急時や避難所など

### 顧客満足度とイメージの向上につながる
ユーザーにとって重要なのは、快適に利用できるかどうかです。アクセシビリティの確保によってユーザビリティも向上し、結果としてユーザーの満足度とイメージが向上します。

### Webコンテンツの品質が向上する
ユーザビリティとは異なり、アクセシビリティにはガイドラインが存在します。例えば、『JIS X 8341-3:2016』の基準に基づいて、Webコンテンツの制作や開発、運用が可能です。この基準はW3C勧告『WCAG 2.0』や『ISO/IEC 40500:2012』と同じ内容です。

### 標準規格への対応による信頼感と安心感を提供できる
アクセシビリティの確保をさらに一歩進め、『JIS X 8341-3:2016』への対応方針や試験結果を公開することで、ユーザーに信頼感や安心感を提供します。公開した内容は定期的に更新し、ユーザーの信頼を維持することが大切です。

### 製品の国際競争力が向上する
多くの国でWebアクセシビリティの確保が法的義務となっています。日本市場だけでなく、国際市場でもアクセシビリティを確保することは製品の品質を証明する要素となります。

### 法的リスクの軽減
法律や条例で定められた要件を満たすことによって、法的リスクを軽減することができます。アクセシビリティの確保は、企業の社会的責任を果たすことにもつながります。

### 社会的責任を果たすことができる
アクセシビリティの確保は、企業の社会的責任を果たすための重要な要素です。多様なユーザーと共に、より良い社会を築いていくためには、アクセシビリティの確保が欠かせません。
------------------------------------------------------------
who
## 誰が文書化するべきか？
私は考えを文書化し、最終的な質問として「誰がこれらを文書化するべきか」と考察しました。

### 2つの答えがあります：
1. チームでやる
2. 場合による

### チームでの文書化
アクセシビリティのドキュメンテーションは、チーム作業として実施されるべきです。以下はその主要な参加者です：

- **PdM と PjM** : プロジェクトレベルでアクセシビリティの要件を定義し、文書化。
- **デザイナー** : デザインとその動作・表示に関する文書化。
- **開発者とアクセシビリティ専門家** : 技術的実装の文書化。
- **コンテンツ担当者、UXライター、SEO担当者** : 代替テキストやコンテンツに関する文書化。
- **テスターとQA** : アクセシビリティのテストケースの文書化。

### 場合による
文書化の担当は、チームの構成やプロジェクトの性質に応じて変わることがあります。

## いつ文書化するのか？
文書化は、技術的な実現可能性を確認した後、最終的なコンポーネントやページが完成した段階で行われるべきです。

## 文書化のメリット
### デザイナーにとって
- アクセシビリティに関する知識の深化
- インタラクションに対する深い考察
- ユーザーの異なる使用方法への配慮

### デザイナーと開発者の関係強化
- 誤解の解消と効率的なコミュニケーションのサポート
- 一貫性の維持

### 新しいメンバーやチームにも利益
- オンボーディングのサポート
- アクセシビリティの基準の確立
- アクセシビリティに関する意識の向上

------------------------------------------------------------
what 
## アクセシビリティをドキュメントに残す理由
アクセシビリティの問題を「修正」するだけでは遅いことが多いです。

サイトがアクセシビリティを考慮して設計・開発されていない場合、後から修正するのは大変で、費用もかさむ。それは壊れたメガネにガムテープを貼るようなものです。

私は、最初から正しく設計・構築できたのに、なぜ後から修正するのか疑問に感じます。

アクセシビリティはプロジェクトの早い段階から取り入れるべきです。良いガイドラインと文書は、それを実現するのに役立ちます。これらはプロジェクトの初期段階で、アクセシビリティの問題を早期に特定し、修正する手助けとなります。アクセシビリティは、「プロジェクトの通常の設計と開発の過程」の一部として組み込まれるべきです。

### どこでどのように文書化すればよいのか？
- アクセシビリティに関する注釈をモックアップやデザインドキュメントに追加
- コンポーネントドキュメント: 我々のデザインシステム内で各コンポーネントについて説明
- ページドキュメント：コンポーネントがページ上でどのように整理されているか

#### コンポーネントごとのドキュメント
コンポーネントのモックアップには、開発者がインタラクションやアクセシビリティを理解しやすいようにデザインの注釈を付けるべきです。多くの開発者は仕様書やドキュメントを読むことを避けるかもしれませんが、デザインファイルなら確認するでしょう。

### ページごとのドキュメント
参考：[Accessibility Annotation Examples](https://www.behance.net/gallery/78024369/Accessibility-Annotation-Examples%20)

### チームと共に最適なドキュメント形式を決定する
- Jiraチケットをドキュメント/リサーチリポジトリとして使用
- ワードやエクセルでの個別ドキュメント
- Miroボード（モックアップとドキュメントの組み合わせ）
- Figmaのコメント
  これはチームとのオープンな議論が必要です。

文書化方法は多岐にわたります。自分たちのチームに合った方法を見つけて試してみてください。ただし、文書化は対話の代わりにはなりません。

可能ならば、直接会い、ドキュメントを共有し、ディスカッションすることがベストです。私たちのチームでは、毎週ミーティングを行っています。開発者はデモを提供し、私は関連するドキュメントや仕様を共有して議論します。

## デザイナーは具体的に何をドキュメントに残すのか
デザイナーが文書化すべき内容は何でしょうか？ これを明確にするため、以下の4つのカテゴリに分けてみました。

- ビジュアルデザイン
  - デザイントークン
- インタラクション
  - アニメーション
- コンポーネント
- ナビゲーション
  - ユーザーフロー
- 代替コンテンツとマークアップ
------------------------------------------------------------
---
title: "[WIP] アクセシビリティの４つのステップ"
---
## どうやってアクセシビリティをテストするのか？
世界保健機関（WHO）によると、世界人口の約15％が何らかの障害を抱えて生活しており、それは明らかな場合もあれば、明らかでない場合もある。もしデザイナーが包括性のためのデザインに真剣に取り組むのであれば、アクセシビリティ（a11y）はQAチェックリストの最後の項目ではなく、すべてのデザイン決定の一部であるべきです。

https://www.who.int/news-room/fact-sheets/detail/disability-and-health#:~:text=Disability%20%E2%94%80%20a%20public%20health,functioning,%20often%20requiring%20healthcare%20services.

最近、Shopifyの私の製品エリアで、既存の a11y 関連の問題を監査し、修正しました。スクリーン・リーダー固有の問題を自動的にテストする単一のツールがないため、スクリーン・リーダーの使用は厄介だと感じています。スクリーン・リーダーは補助ツールであるため、使用方法は個々のニーズによって異なります。

### スクリーンリーダーの設定
このガイドでは、新しいMacコンピュータ、iPhone、iPadに搭載されているスクリーンリーダー・プログラム、VoiceOver on Macを使います。Windowsの場合は、JAWSまたはNVDAを使うことができます。ガイドとなる質問と、良いインタラクションと悪いインタラクションの例を提供しますので、OSは問題ではありません。

最初のステップは、スクリーン・リーダーを有効にし、そのキーボード・ショートカットに慣れることです。
https://webaim.org/articles/voiceover/
https://webaim.org/articles/jaws/
https://webaim.org/articles/nvda/
https://dequeuniversity.com/screenreaders/voiceover-keyboard-shortcuts

### a11y の問題かどうか、どうすればわかりますか？
スクリーンリーダーを使ったテストに関する WebAIM の記事を読んで、目の見えるユーザーとスクリーンリーダーのユーザーがウェブコンテンツにアクセスする方法の違いを思い出しました：

> "ほとんどのスクリーン・リーダー・ユーザーは、ウェブ・ページの全体をこれほど即座に調査することはできません。ほとんどのスクリーン・リーダーのユーザーは、ウェブ・ページ全体をこのように即座に調査することはできません。ほとんどのスクリーン・リーダー・ユーザーは、ウェブ・ページ全体をこのように即座に調査することはできません。最も重要なコンテンツが、最も大胆な色や最も芸術的なデザインで、視覚的に真ん中にあるかどうかは、彼らにとって関係ありません。"

迷ったときは、インタラクションが私がデザインしたとおりに動作するかどうか自問する。視覚障害のあるユーザーがコンテンツを理解し、主にキーボードを使って、視覚障害のない人と同じように簡単にページをナビゲートできることが重要です。予期せぬ動作があったり、使いにくさが際立っていたりする場合は、さらなる調査のためにチームに報告します。

私は、監査を簡単にするために、さらに読むのに役立つリンクを書きました。

### 監査プロセス
フォーカス可能な要素をナビゲートする、各項目を読む、各画像を読む、見出しをナビゲートする、というWCAG 2 AA要件のほとんどをカバーしているからだ。もちろん、さらに徹底したければ、すべてのキーボードショートカットを調べることもできますが、このガイドで要件を満たすには十分でしょう。

#### タブ
Tab は次のフォーカス可能なアイテムに移動するのに使われ、Shift-Tab は前のアイテムに移動するのに使われる。リンクやフォームコントロールがこの例です。タブはナビゲートに使われるだけで、アイテムを自動的に選択したりアクティブにしたりするものではないことに注意してください。

正しい順序でタブ操作をしていますか？

フォーカスの順番は、読む順番と同じです。

要素の名称、状態、ラベル、グループ内での配置（該当する場合）が、正確かつ十分に記述されているか。

- タブはタブとして告知されている。
- グループ内の要素の配置と数は正確か。
- アイコンがボタンやリンクとして使用される場合、その目的を説明するaria-labelを持つべきである。

スペースキーを使って明示的にエレメントを選択したり、アクティブにすることはできますか？

- ボタンやリンクは、エンターキーまたはスペースキーが押されたときのみアクティブ

ボタンがモーダルやポップオーバーを開いた場合、フォーカスはそのコンテンツに移動しますか？

- モーダルが開いたら、次のフォーカスはモーダルの最初の要素に移動し、そのコンテンツと対話できるでしょう。

- エスケープを押すとモーダルは閉じ、フォーカスは前に戻ります。

- ポップオーバーまたはモーダルにラジオボタンまたはチェックボックスグループがある場合、最初と最後のオプションに移動できます。オプションを選択した後、ポップオーバーは自動的に閉じるべきではありません。

その要素が本来マウスを使ってアクセスできるものであれば、キーボードを使って操作する方法もある。

## Ctrl-Option- ← →キー
Ctrl-Option-左または右矢印キーは、ページの前の項目または次の項目に移動するために使用されます。読み順や表のマークアップをテストするときに使う。

- 私は正しい順序でナビゲートしていますか？

フォーカスの順番は読み順と同じですが、言語によって異なる場合があります。
表の中で、コンテンツは正しく十分に告知されていますか？

- 列と行の数は正確です。
- 表のヘッダー＋セルの項目は、より分かりやすい。

### Ctrl-Option-Cmd-H
Ctrl-Option-Cmd-Hで次の見出しへ、Ctrl-Option-Cmd-Shift-Hで前の見出しへ移動します。私はこれを、ページをざっと目を通すことのしやすさをテストするために使っている。

見出しや小見出しは意図的かつ意味的に使われていますか？

- 見出しは必要に応じて使用しています（コンテンツを整理し、構造化するため）。
- ページにはh1要素しかない。
- pはhのように見えず、逆もまた然り。
- 見出しのレベル（h1、h2、...、h6）は、コンテンツの階層とグループ化に基づいて使用されます。


### Ctrl-Option-Cmd-G
Ctrl-Option-Cmd-Gは次の画像に移動するときに、Ctrl-Option-Cmd-Shift-Gは前の画像に移動するときに使います。画像の代替テキストをテストするときに使います。

画像のaltテキストは説明的で文脈に即していますか？

- すべてのimgタグにはalt属性が必要です。
- 説明文は画像の目的を理解するのに役立ちます。

良い例：altテキストは画像の目的を明確に説明しています。
altテキストを記述する際の良い習慣と悪い習慣に関するヒントをもっと見る。

- ボーナス：無効ボタン
  無効ボタンは、特定の条件が満たされるまでアクションが利用できないことを視覚的に伝えるために使われますが、フォーカス順（タブ）では無視されます。だからといって、無効化された要素を表示することから常に遠ざかるべきなのでしょうか？以下は、問うべき重要な質問です：

現時点において、無効化された要素にアクセスすることがユーザーにとってどれほど重要か？その要素がなくても、ユーザーは目の前のタスクを遂行できるでしょうか？
もし重要なら、それを有効にするための明確な指示や、タスクを遂行するための回避策があるか？
これによって、コンテキストを追加したり、意味のあるときだけアクションを表示したり、あるいはフローの一部を見直すなど、正しい判断ができるようになるはずでしょう。



## ビジュアルデザイン
色は、デザインドキュメンテーションについて考えるとき、最初に思い浮かぶものです。
シンプルな2つの組み合わせのカラードキュメンテーション
デザイナーが最初に文書化できるのは Color とカラーパレットです。

https://stephaniewalter.design/blog/color-accessibility-tools-resources-to-design-inclusive-products/

https://stephaniewalter.design/blog/tips-create-accessible-color-palette/

パレットの各色について、私はそれを白い背景とマッチさせた。
テキストや大きなテキストの AA または AAA コントラスト比チェックに合格しているかどうかを記録します。

これは手始めですが、もっと詳細な情報が必要な場合もあります。

### すべての組み合わせを記録するカラーマトリックス

https://contrast-grid.eightshapes.com/?version=1.1.0&background-colors=%23FFFFFF%2C%20White%0D%0A%23FEDC2A%2C%20Yellow%0D%0A%235A3B5D%2C%20Dark%20Purple%0D%0A%238B538F%2C%20Light%20Purple%0D%0A%23C3A3C9%2C%20Lightst%20purple%0D%0A%23777777%2C%20Gray%0D%0A%23555555%2C%20Darker%20Gray%0D%0A%0D%0A&foreground-colors=%23FFFFFF%2C%20White%0D%0A%23FEDC2A%2C%20Yellow%0D%0A%235A3B5D%2C%20Dark%20Purple%0D%0A%238B538F%2C%20Light%20Purple%0D%0A%23C3A3C9%2C%20Lightst%20purple%0D%0A%23777777%2C%20Gray%0D%0A%23555555%2C%20Darker%20Gray%0D%0A%23444444%2C%20Darker%20%20Darker%20Gray%0D%0A%23333333%2C%20Fifty%20Shades%20of%20darker%20gray%0D%0A%23222222%2C%20Dorian%20Gray%3F&es-color-form__tile-size=compact&es-color-form__show-contrast=aaa&es-color-form__show-contrast=aa&es-color-form__show-contrast=aa18&es-color-form__show-contrast=dnp

ここでは、横軸と縦軸に同じ色を置いている。

両者の交点は、ペアにしたときの色の比率を示しています。

2つの色を異なる比率で組み合わせることができるかどうかを知るのに役立ちます：

3:1 4:5...

例えば、黄色をどの背景のテキストとして使うべきでないが、濃いグレーのテキストとして使うことはできる。このマトリクスをプロジェクトに入れておけば、他のデザイナーに使っていい色と使ってはいけない色の組み合わせを知らせることができます。

このマトリックスをデザインチームや開発チーム全体で共有し、可能な関連付けを理解させるのが良いでしょう

### スタイルガイドで色の組み合わせをドキュメント
デザインシステムにおいても、特定の色の組み合わせについては何が許され、何が許されないかをドキュメントするようにしている。


### AA、AAA、コントラスト比についてデザインチームに共有
すべてのデザイナーが比率、AA / AAA の意味、小さい文字と大きい文字の概念に精通しているとは限りません。どこかで説明する必要があります。

https://gerireid.com/wcag-for-designers.html

https://www.accessguide.io/guide/high-color-contrast



---
title: "[WIP] デザイントークンについて"
---
## デザイントークンとは？
デザイントークンとは、デザインシステムの特定の値を表すデータ。
color、spacing、typography scale など、デザインシステムを構成する要素。

これらの値は、プロダクトチームが意図的に決定します。デザイントークンは、一般的には CSS 変数としてコードベースに反映されます。`single source of truth` を維持し、デザインツールと開発ツールを自動的に同期させます。

そして、デザイントークンには仕様があります。

例えば、チームが Token Studio をやめて Anima を使用する場合、Token Studio からエクスポートするトークンが Anima のトークン形式と互換性があることを確認しなければなりません。
どのツールから移行する場合でも、データ構造に不整合が生じる可能性が高いと、デザイントークンを記述する決定的な方法がないためです。

### デザイントークン仕様
デザイントークン・コミュニティ・グループ（Design Tokens Community Group）が、何が有効なデザイントークンを構成するためのルールとガイドライン [design tokens specification](https://tr.designtokens.org/format/) の作成をしている。これは、ライブラリの作者やデザインシステム・チームが、世の中に存在するさまざまなツールとの相互運用性を保証するために使用できる仕様。

仕様に沿ったデザイントークンだと、どのように検証するのだろうか？

それは [design tokens validator](https://animaapp.github.io/design-token-validator-site/)

##  design-token-validator について
具体的な仕様が定義されることは、ツールが一貫したトークンのフォーマットを始めれるだけでなく、より抽象的なデザインと Web 開発のコミュニティに貢献する、デザイントークンツールができます。デザイントークン検証ツールはそのようなツールの1つで、Animaは最近、誰でも使える無料のオープンソースツールとしてリリースしています。

## デザイントークンの命名分類について
### デザイントークンに潜む課題
- component token 名がわかりにくい
- component token 名が長く、Figma では見切られて表示されていない
- token の数が多すぎて、選択できない
- token を使用する背景を見つけづらいし、わからないことがある

上記の問題でデザインシステムを利用する開発者はデザイントークン設計決定の背景や論理的根拠をまったく理解できないまま進むと、どのトークンが特定のユースケースに適用されるかを納得できずに使用されることがある。そのため明示的で直接的に、より良いセマンティックトークンを準備しなければならない。

そうすれば、論理的根拠を理解した上でスタイルを適用できるようになり、コンポーネントの構築方法についてデザイナーと開発者の間で明確にコミュニケーションが取れるようになりました。

## 解決策
トークン名は、デザイントークンを参照し、デザイントークンを利用者が識別する方法がある。
しかし、核となる「名前」は、[catalog system](https://en.wikipedia.org/wiki/Library_catalog) と API を順序立てて表現したものである。

この catalog system と API は、トークン分類法としても知られている。

明確な分類法を構築することで、トークンを適切かつ一貫して分類し、デザイントークン利用者にスケーラブルで予測可能な命名規則を提供することができる。


私たちは、いくつかの基準に基づいてセマンティック・トークンとタクソノミー・システムを定義し始めた：

- 簡潔さよりもわかりやすさを優先
- プラットフォーム間の一貫性
- 小さく保つ
- 抽象度のバランスをとる（一般的でありながら、実用的なコンテキストを提供する）
- オブジェクト指向の分類法を使う

幅広いユースケースをカバーするトークンを特定することができ、分類法は直感的で合理的である。

トークンの数は、余計なユースケースを避けるために最小限にしますが、全体的なカバレッジを大きくするために十分な堅牢性を持たせる必要がある。

作成したトークンを、デザイントークンを利用する各デザインシステムチームのデザイナーと開発者にテストしてもらい、抱えている問題を適切に解決したことを確認しなければならない。

## ユースケース・カバレッジとは何か？
ユースケースのカバレッジとは、より広い「包括的な」ユースケースの下に論理的に収まるユースケースの量を指す。

例えば、`text-color-default`はアプリケーションのあらゆるコンポーネントにわたる多くの異なるユースケースに適用することができますが、`title-color-default`は `title` のユースケースにのみ適用されます。

解決策として、ユースケースのカバレッジに焦点を当てる必要があります。これをトークン・システムで定義するために、異なるトークン・タイプ（プリミティブ、セマンティクス、コンポーネント・トークン）に対してカバレッジがどのように変化するかを考えました。正確な文脈上の名前とそのユースケースのカバレッジの間に逆の関係があることを示すことで、ロバストなセマンティック・トークン・セットの価値がわかります。

## プリミティブトークン / Primitive tokens
プリミティブトークンには、どこでどのように使われるべきかという固有の設計意図はありません。

このため、プリミティブトークンは、ほとんどどこでも使用できるため、インターフェースのユースケースを最も広くカバーします。しかし、コンテキストの正確さに欠けるため、まとまりのある視覚的言語を作成する価値はほとんどありません。

プリミティブ(Primitive)は、値を一般的な名前にマッピングするもので、どこでも使えますが、文脈を持ちません。

## セマンティックトークン / Semantic tokens
セマンティックトークンは、文脈（どこでどのように使われるべきか）を持っています。ですが、精度は幅広くあります。このため、セマンティックトークンも幅広いユースケースがあります。

セマンティクスは文脈を与え、その文脈はユースケースの適用範囲に反比例します。一般的なものはより広く、特殊なものはより狭くなります。

## コンポーネントトークン / Component tokens
文脈的な名前であるため、使用例がより特定されています。この精度のため、あまり再利用できず、他のトークンタイプ(Primitive, Semantic)よりもユースケースのカバー率が低くなります。

トークンの種類と、ユースケースのカバレッジにどのように関係するかについて、このような枠組みを作ることで、問題を整理し、より包括的なセマンティックトークンに対する解決策の詳細ができました。

## 分類法の作成
トークンの初期セットと分類法の下書きを作成しました。

color から始めて、私たちは既存ユースケースと、基本的なテキストの色オプションのような、新たに必要とされるユースケースや潜在的に価値のあるユースケースを特定しました。

各カテゴリーを作成するために、演習を行いました。まず、私たちはオプションの類似性に基づいてグループ分けを行います。

以前の名称が似ていることもありますが、より重要なのは、オプションがデザインをどのように変更するかに関係する類似性です。そして、単語の連想練習を行い、オプションがコントロールするものを最もよく表す用語をシソーラスから探し出しました。私たちは点数で決めて投票し、自分たちの選択肢について話し合い、それを後でデザイナーとデザイントークンの利用者と共有して、自分たちの選択肢を検証したり修正したりします。

例えば、私たちは "primary"、"secondary"、"tertiary" という概念を持っていた。

"primary" の色はコントラストが高く、"tertiary" はコントラストが低い。

私たちがたどり着いたカテゴリーは "Prominence" と呼ばれるもので、"accent" の色などのユースケースを取り入れるのに適したものでした。この命名は同じデザイナーやデザイントークンの利用者にとってユースケースがわかりやすかったです。

この分類法は、用語の重複をできるだけ少なくする必要があります。そうすることで、相互に排他的な選択肢を持つシステムを構築し、各カテゴリーの目的を明確にすることができる。

曖昧さは、混乱、矛盾、主観性、断片化につながる。

弾力性、拡張性、柔軟性が必要であり、そのためには曖昧さをできる限り排除する必要があった。

構造の目的は、長期的な安定性を確保するために、スケーラブルで合理的なシステムを構築することである。このような構造がなければ、将来のトークンに曖昧な用語や矛盾する用語が導入される危険性があります。

このようなリスクの結果、デザイントークンの利用者のために解決しようとしていたのと使い勝手の問題（混乱しやすい、直感的でない命名、見つけるのが難しい）が発生することになります。

この分類法は、複数の種類のトークンを分類するための枠組みを提供します。

この分類法から導き出された命名規則は、最も抽象的ななカテゴリーからより具体的なカテゴリーへと並べられている。各カテゴリーを直列に、そして意図的に並べます、その結果、トークンは自然で人間に親しみやすい名前を持つようになります。

## カテゴリーとその選択肢
各カテゴリーには、明確な選択肢を意図的に設定した。カテゴリーは、トークンをどこでどのように使用すればよいかを確認する際に、特定のタイプの質問に答えることを目的としています。

以下は、カテゴリーと選択肢をどのように文書化するのかの具体例になります。

### 要素
"element "カテゴリーは、トークンが関連する UI オブジェクトを指定します。
"どのオブジェクトがこのトークンを使うのか？"という質問になります。

抽象的な要素の例をいくつか挙げます：入力、アクション、データ、コンテナ

### プロミネンス / Prominence
視覚的な階層性、要素が視覚的にどの程度目立つかを示します。
"このトークンを使用しているオブジェクトは、視覚的にどの程度目立っているか？"
という質問に答えます。

### 目的
トークンが UI 内で伝える一般的な目的。

"ユーザーに対して何を言っているのか？"

という質問に答えるものです。

一般的に color に使用されます。

私たちのシステムには他にもいくつかのカテゴリーがあり、
- 具体的な定義
- システム内での目的
- デザイントークンの利用者がトークンをよりよく知るための例があります。

## 利用者に受け入れられるかテストをしよう

セマンティックトークンを再構築する取り組みは、私たちのデザインシステムの成否に関する、迅速で現実的なフィードバックを得ることができます。

より複雑なセマンティックトークン（color）については、名前と構造が直感的であることを確認するために、デザイナーとユーザーテストを繰り返します。テストは、タスクベースのユーザビリティ調査として構成されました。デザイナーは、既存のデザインに色を割り当て直す必要があり（彼ら自身のリデザインのスタイルで）、新しい色のトークンを使用してまったく新しいデザインを作成する必要がありました。トークンは Figma ライブラリとして提供され、ユーザビリティの問題（フィルタリングや名前のクリッピングなど）を確実に修正します。

## デザイントークンによるビジュアル言語

問題の特定とアプローチの計画から、デザイン、コード、ドキュメンテーションにわたるタクソノミーの実装までの発展的なプロセスを要約する。

プロジェクトにおいて、現状のトークンの使用状況を監査・分析し、共同で下書きを作成。
ワークショップを行い、タクソノミーを決定する。

### 課題と目標
- 解決すべき課題と到達すべき目標を明確にする

デザインシステムには、UI コンポーネントのカタログに適用される確立されたビジュアル言語があります。
色の選択、グループ、関係性が明確に定義され、タイポグラフィ、スペース、サイズもある程度、組織化されています。

以下は具体的な課題
- トークンのギャップが蔓延し、厳密さが必要なところにハードコードされた値や一般的なオプションが残っている。
- トークンが浅くシンプルすぎるとダークモードやテーマを作成するときに、使用が難しくなる
- トークンが一般的すぎて、明確な目的のために広く適用されている。
- トークンの適用が間違っている。

- "トークン "は実際にはトークンではなく、整理が不十分で相反する変数リストのバラバラのセットになります。

ビジュアル・ファウンデーションについて考えるとき、現状が不完全で、不正確で、不完全です。
そのため、合理的に、変化し、成長し、スケールしなければなりません。

そして、それにはコストがかかる。トークンをリファクタリングすることは、コンポーネントカタログ全体的に俯瞰しなければなりません。

新しいビジュアル言語を追加することは、既存の命名パターンを壊すことになります。
ほとんどの変更は UI コンポーネント内にカプセル化されます。

そのため、チームをまとめて、解決する問題に合意し、言語がどのように変わるかを予測し、完了するまでにカタログ全体に広がる影響を認識する。

## 計画を立てる
中小規模のプロジェクトでは、すべてのステップをしっかりと計画する必要はない。
ですが、対話で解決する必要があります。

アプローチは、全体を俯瞰して実行されたものですか？
- "プロダクト全体"を監査し、分類法を提案するものか？
- "カタログ全体"で変更を実施する段階的なものか？

どんなトークンの種類に影響を与えるでしょうか？
- 一般的な色と意味的な色だけか？
- コンポーネント固有の色も？
- タイポグラフィ、スペース、サイズ、シェイプ、立面図などにも影響を与えますか？

コンポーネントのデザインは変更するのでしょうか？
- 「やりながら補強する」（例えば、フォーカスリングの状態を追加する）
- 「やりながら修正する」（例えば、仕切り線の色の不統一を修正する）

プロジェクトが完了する目安はいつですか？
トークン入りの十分な仕様ができて、反映は何が終わったときですか？
- Figma ライブラリ
- コンポーネント
- コード、ドキュメント・サイトの統合

どの UI コンポーネントが対象ですか？
- どの UI コンポーネントを監査して、反映させますか？

監査対象のコンポーネントと、全体としてどのコンポーネントが対象範囲であるかを確認できるスプレッドシートを作成する。

これがトークン分類法のスプレッドシートになる。

## トークンを監査する
デザインとコードを調べ、トークン、CSS 変数やハードコードを見つけ、UI コンポーネントにどのように適用されているかを確認して、コンセプトを特定し、何をすべきかを詳細を定める。

2.1 トークンのパスをマップする
デザインアセット、ドキュメント、ブラウザに表示されるトークンの流れをマッピングすることを検討。

全体像を描くことで、トークンが存在する場所から、デザイントークンの利用者がトークンをインポート、結合、変換、適用するファイルに至るまで、トークンの影響の幅を明確にしましょう。

コードのスクリーンショットでトークンのフローをマッピング。

共同作業者に一般的な概念を思い出させ、ズームインして実践的な例に焦点を当てる。
Style Dictionary から Web の `button.scss`ファイルに到達するまでをマッピングします。

コードでトークンをどのようにインポートし、ローカル変数やスタイリング・ユーティリティにマッピングするかということ。

デザインシステム・チームは通常、こうした追加の変換レイヤーに気づいていない。研究して明らかにし、トークンの流れをどのように混乱させ、方向転換させるかを強調し、トークンの分類法の更新がプロダクトごとにどのような作業を必要とするかを検討する。

マップを手にすれば、ズームインに時間を費やし、準備してきた挑発的な質問をし、利害関係者に今後の作業を意識させることができます。

## 現状のトークンを収集する
トークンの住処を調べ始めたら、そこからトークンを発掘します。
具体例を挙げるとデザインシステムの、Figma のテキストやカラー・スタイルや Style Dictionary のようなツールに実装されたトークンです。

ここでのトークンとは、一貫性のない、不適切な変数名、不正な Figma スタイル、共同作業者がトークンだと思い込んでいたものの、システムによって公開されたトークンとは無関係なセットなどが存在する可能性があります。

- トークン名のレベルを別の列（プロパティ = テキスト、バリアント = プライマリ）で、後でフィルタリングや並べ替えができるような名前に連結。
- 異なる値や概念が1 つまたは複数の場所（Figma、コード・ファイルなど）に表示されるようなトークン の場所
- ツール間の "トークン "説明により、どこに何が記述されているのか、出力間で何を調整するのかを特定。

## Figma でスタイルがどのように適用されているかを調べる
トークンがよく理解できたので、トークンがコンポーネント間でどのように適用されているかを、頻度、意図の焦点を当てて調べてみます。

Figma の選択色機能は、大きな助けとなります。すべての variant を選択し、適用を１つずつカラー・スタイルでたどり、それぞれがどのように適用されているかを探します。

適用されたカラースタイルをトレースするために、Figmaの "選択色 "を検査します。

### 具体性を探求
例えば、Badge はニュートラルな背景色に`$esds-color-palette-neutral-90`を適用し、Alert は同じ目的で`$esds-color-background-light`を適用。どちらのトークンもそれ自体は間違っていません。ですが、意図は同じであり、より具体的なため新しいトークンが必要です。

## 正確さと明確な意図の探求
一般的なトークンは、多くの目的に広く適用されすぎる可能性があります。

例えば、$esds-color-interactive-primaryと$esds-color-interactive-textは、テキスト、ボーダー、背景、アイコンの塗りつぶしの選択、補完、フォーカス、クリッカビリティ/タップビリティに使用できます。

使用例として、広いユースケースでしょう。

### エラーの探求
`$esds-color-text-disabled`のようなトークンはテキストに対して何度も正しく適用。

このトークンのアイコンに対する不正確な使用は、並列の`$esds-color-icon-disabled`が正当であることを示唆。ですが、`$esds-color-icon-empty`、`$esds-color-interactive-empty`、`$esds-color-divider-section`が同じ意図で適用されている例については、もっと懸念すべきです。これらは修正する必要がある。

### コードのトークンも検査
快適さのレベルにもよるが、あなたやチームメイトは、今日のライブラリや製品でトークン化可能な決定を適用しているコード行を検査し、ログを取ることができる。トークン、変数、ハードコードされた値がどのように適用されるかを観察するために、たとえ小さなコンポーネントのセットであっても、ウェブのCSS にまたがるスタイリング構成要素やユーティリティに焦点を当てることができる。

CSSルールのように、既存のセマンティックやコンポーネントトークンの思慮深い適用に勇気づけられるかもしれません。

- 既存コーディングを踏まえ、推奨する用語を収集
- すでに使用、議論されている代替用語
- `property`、`variant`、`state`など、その用語が適用されるトークン・レベル
- 使用されているトークン、影響を受ける可能性のある関連トークン
- 意思決定に基づいた根拠と注記

## トークンの決定
トークンデータと新たなテーマが揃ったところで、改善された分類法を作成し、フィードバックを得て、修正して反復。

### 分類法の提案
徹底的に調査・分析したら、作業に取りかかろう！提案された to be トークンの別シートを作成

- トークン名：レベルごとに追加の列を連結
- ソートとフィルタリングのためのトークンの種類：（ジェネリック、セマンティック、コンポーネント
- トークンの値
- 他の行への動的参照によるトークンの別名

意見をまとめたら、協力者にメッセージを送り、意見を聞いたり、意見の相違をその場で解決、一緒に議論するための代替案を作成。

### ワークショップでの重要な取捨選択
- トークン案が形になってきたら、ワークショップを開催。
- デザインシステムのメンバーであるデザイナーと開発者を必ず参加させ、必要に応じて関係者を加えましょう。

#### ワークショップは２つの目的を果たすため
- グループの進捗状況をアップデートすること
- 一緒に意思決定を行うこと

進捗状況の報告には、Figjamボードを使用し、閲覧可能なスプレッドシートのスクリーンショットを用いて、監査、分析、提案のストーリーを伝えます。

### 完成まで繰り返す
数回のワークショップを経て、トークン分類法を議論するエネルギーや興味が薄れてきても驚かないでください。この時点で、ダイレクトメッセージ、非同期アップデート、完成に向けて反復する。

4 新しい分類法を実装する
決定が済んだら、トークンを仕様書に記録し、コード・ライブラリ、Figma アセット、ドキュメントを変換します。

### 仕様書として記録する
私が一緒に仕事をしているほとんどのチームは、トークンの分類法を、スプレッドシート（ほとんどのチームにとって見つけるのが難しすぎます）やスタイル・ディクショナリ（ほとんどのトークン・コンシューマには見えないリポジトリ）ではなく、設計仕様書に記録しています。

仕様書は、開発者だけでなく、Figma ライブラリを作成するデザイナーや、ドキュメントを発行するライターにとっても、持続的な真実の源となります。仕様で、トークンごとに、swatch、value、名前、alias、Figma スタイル、用途の説明を持つセット（以下の `-alert` のような）をグループ化しています。

### ハンドオフとレビュー
ワークショップとは対照的に、ハンドオフは短い。spec を紹介し、レビューとコメントの方法を話し合い、優先度の高い未解決のスレッドを解決する。

トークンごとの workthough は避ける。その代わり、トークンの仕様を関連するレビュアー（少なくとも1名の権威あるデザイナーと1名の権威ある開発者）にレビューをしてもらい、個別にチェックとコメントをもらいます。

### Figma、コード、ドキュメントを横断的に実装
新しいトークンの種類を作成したら、出力を実装してみましょう

Figma では、新しいカラー、テキストを実装し、すべてのコンポーネントに適用。Style Dictionary では、新しいトークンを 1 つ以上の JSON ファイルに実装し、更新を公開します。影響を受けるドキュメント（カラー、タイポグラフィ、スペースなど）を更新します。コンポーネントコードについては、トークンの流入方法をリファクタリングし、変数とユーティリティをリファクタリングし、コンポーネントを1つずつ更新。開発グループには Slack やコミュニケーション・チャンネルで変更をアナウンスする。コードについては、いくつかのコンポーネントについてコード移行のサンプルを提供します。



---
title: "[WIP] インクルーシブなアニメーション"
---
## アクセシブルでインクルーシブなアニメーションの構築
強大な力には、素晴らしいアニメーションが伴います。アニメーションがユーザーエクスペリエンスをどのように向上させるかを示しました。しかし、これらのツールを使用する際には注意が必要です。欺瞞的なデザインパターンを作成するためにアニメーションを使用しないようにと既に述べましたが、今度はアクセシビリティについて話しましょう。

一部の動きはユーザーを気分悪くさせるかもしれません
あなたのアニメーションは、一部の人々を気分悪くさせる可能性があります。より正確に言うと、動きは前庭障害を持つ人々を気分悪くさせるかもしれません。私のような一部の人々は前庭障害に苦しんでいます。これは内部のバランスに影響を与える病気、損傷、または怪我です。私の目が見るものと私の周りで起こることとの間に不一致があると通常起こります。道路があなたの周りで動くため、車の中で本を読むと気分が悪くなるのと少し似ています。この現象は、私や一部の人々にとって、ウェブサイトやビデオゲームで起こります。動きの酔いを引き起こすさまざまな要因があり、一人ひとりの反応は異なります。一部の人々は吐き気を感じ、一部の人々は1日中頭痛を感じることがあります。

例えば、私はBorderlandsはプレイして楽しむことができますが、Kingdome Heart 3はプレイできません（そのゲームを購入しました…）。また、PS1のSpyro the dragonもプレイできませんでした。ゲームを購入するのはギャンブルのようなものです。時々、ゲームプレイの動画から、そのゲームが自分に向いていないことを知ることがあります。しかし、時々動画が気分を悪くさせる一方で、実際のゲームは問題ないこともあります。あるいは、特定の時間だけ問題ないこともあります。そして、ウェブ上でも同じことが言えます：ある動きは一部の人々を気分悪くさせる可能性があり、他の人々には問題ないかもしれません。

このトピックに興味がある場合（私のブログを読んでいるので、私がここでアクセシビリティについてよく話していることを考えると、興味があることを願っています）、以下を読むことができます：

- あなたのインタラクティブが私を気分悪くさせます
- 前庭障害のためのアクセシビリティ：私の一時的な障害が私の視点をどのように変えたか

2017年にAppleはこの動きの酔いの潜在的なトリガーに関する記事を書いています。それは「Responsive Design for Motion」と呼ばれ、多くの視覚的な例が含まれています。

記事には次のトリガーが含まれています：

- 複数の速度や方向の動き（パララックス）
- スケーリングやズーム
- スピンや渦巻き効果
- 周辺の動き
- など

この例では、私の脳は、私がスクロールする速度とは異なる速度で画面上で要素が動くことに問題があります。それは酔いを引き起こす不一致を生み出します。

**`prefers-reduced-motion` メディアクエリ**

では、私たちにはこれに対して何ができるでしょうか。Appleは2013年にiOSの設定にモーションを減少させるオプションを導入しました。彼らはアプリを開くために作成したアニメーションが、文字通り一部の人々を不快にさせたからです。多くのユーザーが不平を言いました。そして現在、このモーションを減少させるオプションはMacOSのアクセシビリティオプションでも利用可能です。私はWindows 10もEase and Accessセクションの下でこのようなオプションを提供していると思います。MDNには、これらのオプションをどこで見つけるかのリストがあります。

Apple（その後、他のブラウザ）は最近「prefers-reduced-motion」メディアクエリを導入しました。これは、システムが非必須の動きの量を最小限にするようにユーザーが要求したかどうかを検出するために使用されます。現在のサポートはSafari、Chrome、Chrome Android、およびFirefoxです。

**モーションを減少（削除しない）させるユーザーの選好の確認**

デフォルトの値は「no-preference」です。これが少し厄介な部分です。no-preferenceは、ユーザーがモーションを問題視していないか、選好がないことを意味することができますが、ユーザーがこのオプションを知らないことも意味します。もう一つの値は「reduce」です。これは、ユーザーがモーションを減少させるようにオペレーティングシステムに明示的に指示するチェックボックスをチェックしたことを意味します。

したがって、そのパラメータをクエリするためのメディアクエリを使用することができます。prefers-reduce motionがtrueとして来た場合、モーションを適応させることができます。私が強調したいのは、すべてのアニメーションを削除する必要があるわけではないということです。

アイディアはすべてのアニメーションを削除するのではなく、モーションの酔いを引き起こす可能性があるアニメーションを微調整して減少させることです（上記でリンクされたAppleの記事を参照してください）。たとえば、私のCSS Transition CSSアニメーションデモでは、太陽と月が動き回り、背景の流れる星の上で、太陽系のタイミングが一部の人々にとって問題であるかもしれません。私はprefers-reduced-motion: reduceに以下を実装しました：

- 流れる星を削除しました
- 太陽、雲、月の移動トランジションを削除し、代わりにカラートランジションで置き換えました
- 右側のアニメーションを遅くしました（ほとんど見えません）。
- 地球の回転速度を変更し、太陽のリップル効果を削除しました。

### UI/UXデザインにおけるアクセシビリティとモーション

1. **動きの削減の設定**: 現代のオペレーティングシステム、例えばiOSやmacOS、さらにはブラウザは、動きを削減するユーザーの設定を導入しています。これにより、デザイナーは設計を適応させる必要があります。

2. **開発者とのドキュメント＆コミュニケーション**:
    - **静的なドキュメンテーション**: ストーリーボードのようなクラシックな手法は、複雑なアニメーションを視覚化するのに適しています。アニメーションのタイムラインも役立ちます。
    - **インタラクティブなアニメーションプロトタイプ**: Axure, Figma, Flinto, Framerなどのプロトタイピングツールを使用して、実装前にアニメーションをテストして調整できます。よりイラスト的なアニメーションの場合、After EffectsとLottieFilesプラグインの組み合わせが画期的です。
    - **オンラインでのインスピレーション**: CodepenやCodropsなどのプラットフォームは、開発チームと共有できるアニメーションのインスピレーションを提供しています。

3. **ブラウザのテスト**: ブラウザで直接アニメーションをテストすることで、さまざまなデバイスやネットワークでシームレスに動作することを確認します。

4. **デザインシステムとモーション**:
    - **デザインシステムへの組み込み**: AudiやGoogleのようなブランドは、デザインシステムのドキュメントにモーションを組み込んでいます。
    - **アニメーションとデザイントークン**: モーションは、色やアイコンと同じく、ブランドのアイデンティティの不可欠な部分となっています。アニメーションのドキュメントには、目的、タイプ、タイミング、速度、イージングなどが含まれます。
    - **例**: MicrosoftやFoyerは、デザインシステムでのモーションのドキュメント方法の良いモデルを提供しています。

5. **効果的なアニメーションを構築するための5つの基本的なルール**:
    1. **シンプルに保つ**: アニメーションがユーザーの注意をそらさないことを確認してください。
    2. **短く保つ**: ユーザーをイライラさせる可能性のある長いアニメーションは避けてください。
    3. **意味を持たせる**: アニメーションは価値を追加し、サイトのメッセージに合わせる必要があります。
    4. **ユーザーにコントロールを与える**: ユーザーがアニメーションをオフ/一時停止またはオンにできるようにしてください。
    5. **テストを行う**: さまざまな条件や多様なユーザー、特に障害を持つユーザーを持つ場合のテストを行ってください。

### 結論
アニメーションがUI/UXデザインプロセスの不可欠な部分として続いている中で、ユーザーの好みを理解し、特にアクセシビリティの観点からこれに対応することが極めて重要となっています。適切なドキュメント、開発チームとのコミュニケーション、厳格なテストを通じて、アニメーションがユーザーエクスペリエンスを向上させるものであることを確保することが重要です。



---
title: "[WIP] インタラクションのドキュメントについて"
---
## インタラクションの文書化
### インタラクションの状態とステータス
インタラクティブなコンポーネントに対して、私が最初に文書化しようとするのは、異なるステートです。

私の例では、さまざまなボタンの状態を文書化している：
- デフォルト
- ホバー
- フォーカス
- アクティブ

フォーカスの状態はアクセシビリティにとって重要です。

キーボード・ユーザーがページをナビゲートするときに、自分がどこにいるのかを知るのに役立ちます。
また、"loading "のような「HTML公式ではない」状態を追加することもできます。

チェックボックスには

- default
- focus
- checked
- disabled、
- disabled checked、
- indeterminate
- disabled indeterminate。

最後の2つはHTMLの仕様にはありません。

しかし、ユーザーが複数の行をチェックできるようなテーブルでは、時々必要になります。ラジオボタンも同じですが、indeterminate でないことを除きます。

フォームの input については、コンポーネント・レベルで、
- default
- focus
- filled
- disabled (read only)

という一般的な分類があります。

しかし、例えば、いくつかの追加ステータスを持つことができます：

- error
- success
- information

色だけでなく、テキストやアイコンも使用するでしょう（色だけが情報を伝える方法ではない）。

コンポーネントが使用されるページレベルでは、より明確に指定する必要があります。
右は、フィルターで使用される年入力の例です。 文書化：
- 何がエラーを引き起こすのか（＝エラーケース）
- 正確なメッセージ（コピー）はどうあるべきか。

## マウスとキーボード入力を文書化するインタラクション・フロー
多くのインタラクションを持つ複雑なコンポーネントのために、私は「インタラクション・フロー」を構築。

さまざまなインタラクションがある場合、これらのコンポーネントがどのように動作すべきかをドキュメントに残しましょう。


チェックボックス付きのフィルターを持っています。ユーザがチェックボックスにチェックを入れるとどうなるかを、順を追って説明：

- フィルタを開く、
- 要素にカーソルを合わせる
- フィルターボックスをチェックする、
- 適用ボタンを押す

マウスのインタラクションに加えて、キーボードのインタラクションも記録。
このコンポーネントでもキーボードナビゲーションを表示する、同様のフローに行き着きます：

- コンポーネントを開く方法（enter/space）、閉じる方法（esc）
- 要素間を移動する方法（上下キー）
- ボックスをチェックする方法

https://www.washington.edu/accesstech/checklist/keyboard/

https://tetralogical.com/blog/2021/10/26/browsing-with-a-keyboard/

https://webaim.org/techniques/keyboard/#testing

**キーボード・ナビゲーションを文書化する際に役立つ、ちょっとした備忘録**

- Tabキーでセクション間をジャンプ
- 矢印キーは、コンポーネント内を移動するのに役立ちます
- スペース/エンターキーは、要素をアクティブにします。

**あいまいなリンク**
- 要素の "クリック可能 "な部分がはっきりしないことがあります。特に、コンポーネント全体を包んでいる場合。

**複雑なジェスチャーの代替**
- アクセシビリティとユーザビリティのベストプラクティス。例として、gmailの「右スワイプ」によるアーカイブ機能が挙げられます。

gmail の代替案を文書化するとしたら、次のようなことができるだろう。
複雑なジェスチャーを、右にスワイプしてアーカイブすることを示すモックアップとともに文書化

それから代替案を文書化する：
- メールを長押ししてツールバーを表示し、アーカイブアイコンを押す。
- メールを開き、上部のアイコンを押す。
- 何が複雑なジェスチャーなのか、あるいはそうでないのか

https://tetralogical.com/blog/2023/03/17/foundations-pointer-gestures/

### ズームの動作
複雑なレスポンシブ・ページの場合、「ズーム」の動作を文書化することもできます。ユーザーは、コンテンツを壊すことなく、サイトを400％まで拡大できるようにする必要があります（隠しテキストや画像などはありません）。

私は開発チームに、ズームの動作（と高さ）をブロックしないようにお願いしています。そして、さまざまな解像度やブラウザのズームレベルでサイトをテストしています。

文書化するのがかなり厄介なデザインの側面の1つに、アニメーションとトランジションがある。これらにもアクセシビリティのベストプラクティスがあります。アニメーションやトランジションの中には、乗り物酔いを引き起こすユーザーもいる。ちなみに私もその一人だ。

`prefers-reduced-motion` メディアクエリを使えば、動きの少ないものを好む人のために代替バージョンを提供することができます。

https://stephaniewalter.design/blog/enhancing-user-experience-with-css-animations/#accessibility



---
title: "[WIP] インタラクションを支えるポイントジェスチャー"
---
## ポイントジェスチャーについて

ポインタージェスチャーとは、支援技術を用いて、人が機能的なコントロールを操作するために行う動作のこと
- 指
- マウス
- ヘッドポインター
- 視線システム

一部のポインタージェスチャーは、特定の人にとって実行が困難であったり、不可能であったりする場合があるため、アクセシブルな代替手段が必要となる場合があります。

### ポインター・ジェスチャーとアクセシビリティ
今日のユーザーインターフェースの多くは、ポインティングやクリック以外のジェスチャーを必要とします。

- メディアプレーヤーのオーディオボリュームを変更するには、トグルをスライダーの上下に動かす必要があるかもしれない。
- ToDoアプリでタスクを整理するには、ページのある領域から別の領域に項目をドラッグする必要があるかもしれません。

タッチスクリーン・デバイスの普及は、キーボードやマウスだけでは不可能だった操作を、指を使って行う新しいジェスチャーを多くの人が学ばなければならなくなったことも意味している。

人によっては、これらのジェスチャーを正確に行うことが難しかったり、ジェスチャーがまったくできなかったりすることがあります。

具体例を挙げると
手先が不器用な人や手の震えがある人は、あるジェスチャーを正確に行うことが難しい場合があります。
- スワイプ
- ドラッグ
- ピンチ
  ヘッドワンドを使用している人は、比較的簡単なジェスチャーしかできないかもしれません。認知障害や学習障害のある人は、理論的には必要なジェスチャーを行うことができても、その方法を理解していない場合がある。

### ポインタージェスチャーを理解する
ポインタージェスチャーには、主に以下の4種類があります：
- シングルポインタージェスチャー
- マルチポイントジェスチャー
- パスベースのジェスチャー
- ドラッグ動作

コンフォーマンスの観点から、ウェブコンテンツ・アクセシビリティ・ガイドラインは、ドラッグ動作と他のポインタ・ジェスチャーを明確に区別していることに注意してください。

マルチポイントジェスチャーとパスベースのジェスチャーは WCAG 2.1 で導入された 2.5.1 Pointer Gestures (Level A)でカバーされ、ドラッグ動作は WCAG 2.2 で導入された 2.5.7 Dragging Movements (Level AA) で個別にカバーされます。

https://www.w3.org/TR/WCAG21/#pointer-gestures

https://www.w3.org/TR/WCAG22/#dragging-movements

### シングルポインタージェスチャー
シングルポインター・ジェスチャーは、マウスやタッチスクリーン上の 1 本の指／スタイラスを使うだけで、最も簡単に実行できます。

シングルポインタージェスチャーの代表的な例には、以下のようなものがあります：
- クリック：ダブルクリックを含む
- タップ：ダブルタップを含む
- プレス：プレス＆ホールドを含む
- スワイプ: コントロールの操作にスワイプの角度が関係ない場合（以下のパスベースのジェスチャに関する注記で詳しく説明します）

ボタン、リンク、チェックボックスは通常、シングルポインタ・ジェスチャーのみで簡潔します。

### マルチポイント・ジェスチャー
マルチポイント・ジェスチャーとは、複数のポインターを同時に使うジェスチャーです。このようなジェスチャはタッチスクリーン環境では一般的です。

マルチポイント・ジェスチャーの代表的な例には、以下のようなものがあります：

- 2本の指をピンチする／広げる：地図アプリケーション内でのピンチ・トゥ・ズームを含む。
- 2本指での回転：ダイヤルコントロールを操作するための2本指での回転など。
- 複数の指を使ったタップ：リスト内の複数項目の選択など

### アクセシブルな代替機能の作成
特定のジェスチャを行うことが困難または不可能な障害者をサポートするために、関連する WCAG 成功基準では、操作に
- マルチポイントジェスチャ
- パスベースのジェスチャ、
- ドラッグ動作

を使用するすべての機能は、パスベースではない単一のポインタジェスチャを使用しても操作可能でなければならないと述べています。

例外は以下の通り：
- ジェスチャが必須であること。
    - 例えば、ステディハンドゲームは、人が細かい運動を含むジェスチャを使用できることに依存しています。
      機能がユーザーエージェントによって決定され、作者によって変更されない。
- デバイスに内蔵されたスクリーンリーダーによって提供される機能などである。

実際には、通常同じ機能を実行する別のコントロールをデザインに追加しますが、シングルタップやシングルクリックのような単一のポインタジェスチャしか必要としません。

パスベースのジェスチャーに関する注意
上述したように、パスベースのジェスチャーを必要とするすべての機能に対して、パスベースではない単一のポインターベースの代替手段を提供する必要があります。

しかし場合によっては、ジェスチャがパスベースであるかどうか、したがってそのような代替手段が必要かどうかを解釈することが、混乱を招くことがあります。これは、ジェスチャーを行う際に人がたどるべき経路が明示的または明白に存在しない場合に典型的です。

つまり、ジェスチャーの正確さです。つまり、ジェスチャーの正確さである：

ジェスチャーの角度や方向が成功に影響しない場合、そのジェスチャーはパスベースのジェスチャーではなく、代替案は必要ありません。

ジェスチャの角度や方向が成功に影響する場合、そのジェスチャはパスベースであり、パスベースではない単一のポインタベースの代替手段が必要です。
これは例で説明するのが一番わかりやすいでしょう。

次のスクリーンショットは、典型的なカルーセルを示しています。人が画面を左右にスワイプしてスライドを移動させます。スワイプジェスチャーの角度や方向は、カルーセルが動くかどうかに影響しない。たとえジェスチャーが少し斜めに行われたとしても、カルーセルは人がスクリーンを横切ってまっすぐスワイプした場合と同じように動作する。したがって、2.5.1 ポインタ・ジェスチャー（レベルA）を満たすために、単一のポインタ・ベース、非パス・ベースの代替手段は必要ない。

ただし、カルーセルがドラッグ操作にも依存している場合は、代替手段の欠如が2.5.7 ドラッグ操作（レベルAA）の不合格の原因となる可能性があることに注意すること。

https://www.w3.org/TR/WCAG21/#pointer-gestures

https://www.w3.org/TR/WCAG22/#dragging-movements

次のスクリーンショットは、同じカルーセルを示しています。ただし今回は、スワイプの角度が左から右、または右から左に完全にまっすぐでなければなりません。例えば、人が少し斜めにスワイプするなど、ずれがあると、カルーセルは期待通りに動きません。そのため、このような場合は、パスベースではない、単一のポインターベースの代替手段が必要となります。

スワイプを成功させるために特定の経路をたどる必要がある場合、単一ポインタ、非経路ベースの代替手段が必要となる。とはいえ、ジェスチャーの角度や方向、精度がジェスチャーの成功に影響しない場合でも、すべてのケースでシングルポインター、パスベースでない代替手段を提供することはグッドプラクティスです。そうすることで、ジェスチャーがパスベースでない場合でも、すべての人、特にジェスチャーが難しいと感じる人にメリットがあります。さらに、コンポーネントの操作に何らかのドラッグ動作が必要な場合は、代替手段が必要であることを覚えておいてください。



---
title: "[WIP] コンポーネントに仕様書は必要なのか？"
---

## 仕様が重要な理由
デザイナーが、数枚の写真をまとめて、設定可能な Figma コンポーネントを公開し、開発者にメインコンポーネントを示して、「Figma の Inspect ツールを使ってください 」と言うのでは、よくないことなのでしょうか。

まず、Figma の inspect tool には制限があります。

一般的なインスペクションは、あなたが行ったすべての決定を見つけるために、かなりの精査と根気が必要です。設計意図を理解することは、宝探しであるべきではありません。宝のありかを知っているなら、掘り出して渡酢用にしましょう。

Figma のコンポーネントは、優れたデザインのコンポーネントを作るために必要なことを、すべて明確化しなければならないわけではありません。behavior、 propsやアクセシビリティなどです。

デザインシステムチームは小規模で十分に強力なので、合意するために十分な頻度で同期的に話し合うことができました。

### ビルド → コラボレーション・コネクションの弱体化
1つの設計が多くの独立した開発チームの役に立っている。チーム間のハンドオフは残るが、開発者は要件を理解するためのデザイナーとの密接な関係がない。

スペックはその空白を埋める。

### Props、motion、accessibility → コンポーネントは複雑に
コンポーネントは複数の機能やスタイリングをカプセル化します。詳細なアクセシビリティの注記から分析、コンテンツからトークンまで、記述し決定しなければならないことがあります。Spec はこれらの空白を埋めるモデルを提供します。

### 品質と技術 → ネーミングには決定的な焦点が必要
実装前のコンポーネントの計画から、実装中でのブラッシュアップやピボットまで、流動的に行うことができます。しかし、Spec のハンドオフは、構造（要素とLayor の名前）、構成（主に、プロパティとオプションの名前）、デフォルトのコンテンツについて議論し、決定する。

### テーマ → トークンのマッピングが必要
コンポーネントの API は、セマンティックトークンがどのように各コンポーネントに import されるか、テーマがどのように特定の要素の特定の属性をターゲットにして特性を変化させる必要があるかを含むように拡張されました。Specs はそれらのマッピングを文書化します。

### 柔軟性 → コンポーネントには複雑な部分と依存関係がある
より高い柔軟性を求める傾向から、デザインシステムはスロットとサブコンポーネントで考え、より小さなパーツを提供するようになりました。ネストされた深さのより多くのコンポーネントに configuration が分散されます。Spec は、各機能のターゲットとなる箇所を明確して、決定し、発展させるのに役立ちます。

### エンタープライズ規模 → 変化を記述する必要がある
システムは、リブランド、リファクタリング、リプラットフォームにまたがる影響を受けながら、より長く存続します。設計は、多くの場合、よりゆっくりと進化し、異なるコード実装は、異なる、ずれたタイミングで設計をアップグレードする可能性があります。仕様書は、このような変化を記録し、説明し、追跡する箇所を提供します。

## 仕様書の置き場
１つのコア仕様書 Figma ファイルに、一貫したフォーマットで仕様書を作成。

このファイルは組織内の全員が見ることができる
メインブランチの数人の編集者のみで分岐される（デザインシステムのデザインリーダーや1-2人のシニアデザインチームのメンバーなど）。

LP、コンポーネントの状態、そのファイルについてのページで始まります。
１ページに１つの Foundation（例：色）や Component（例：テキスト入力）。
Foundation と Component のセクション内でアルファベット順に並びます。

### Spec の内容
Spec には、自動的なものもあれば手動によるものもあり、以下のようなさまざまな内容が含まれる

#### Anatomy
Anatomy は Compoent に分解し、それぞれのパーツに項目と名前を付け、視覚的な属性（テキストの色など）や構成されたプロパティ（ネストされたコンポーネントの依存関係）を記述。

#### Properties
プロパティセクションでは、各プロパティを説明し、デフォルトと代替オプションを対比させ、視覚に関する属性とネストされたコンポーネントプロパティの詳細について説明

Properties 仕様書は、コード、アクセシビリティ、コンテンツに関連する視覚的でないツールを、多くの場合、表形式で強調することができる。

#### Layout and spacing
スペーシングは、私たちが配置する各要素を区切ったり、挿入したり、整列させたりする、非常に意図的なスペーシングの選択を強調するのに役立ちます。spacing、section は、padding、margin（Figma ではアイテムの間隔）、方向、その他の仕組みを示す。

テキストラッピングは Overflow とも呼ばれ、長いテキスト文字列や大きな画像など、過剰なコンテンツを視覚的に表示する際の注意点を示します。仕様は、カウンターアライメント（中途半端に整列されたテキスト列など）や truncation（幅を超えるテキスト入力の非表示文字など）の予期せぬ意図を明らかにすることができます。）

subsection では、Responseiveness、Sizing や Touch Target について説明することができます。

- Behavior
- Accessibility
- Motion
- Component tokens
- Version history

解剖学
アナトミーは、コンポーネントをパーツに分解し、それぞれのパーツに項目と名前を付け、視覚的な属性（テキストの色など）や構成されたプロパティ（ネストされたコンポーネントの依存関係）を記述することができます。


アナトミー仕様には、ネストされたコンポーネント・プロパティと要素ごとの属性が含まれます。
プロパティ
プロパティ・セクションは、各プロパティを説明し、デフォルトと代替オプションを対比し、視覚的属性とネストされたコンポーネント・プロパティの詳細な違いを記述することができます。


複合プロパティ仕様、ライトとダークのバリアントに適用されるトークンとプロップの詳細
プロパティの仕様では、コード、アクセシビリティ、コンテンツに関連する視覚的でないプロップも、多くの場合、表形式で強調することができます。

レイアウトとスペーシング
仕様書は、私たちが配置する各要素を分離、挿入、整列させる非常に意図的なスペーシングの選択を強調するのに役立ちます。スペーシング・セクションは、パディング、マージン（Figmaでは、アイテムのスペーシング）、方向、その他の仕組みを説明します。


ネストされたレイヤーごとのレイアウトとスペーシングの指定
テキストラッピングは、オーバーフローとも呼ばれ、長いテキスト文字列や大きな画像など、過剰なコンテンツで視覚的に何を期待するかを示しています。これらの仕様は、カウンターアライメント（テキスト列の中央揃えなど）やトランケーション（テキスト入力の幅を超える文字の非表示など）の予期せぬ意図を明らかにすることができます。


テキストの折り返しに関する展示
追加のサブセクションでは、応答性、サイズ、タッチターゲットの側面を説明することができます。


タッチターゲット・テンプレート
動作とアニメーション
ビヘイビア仕様は、多くの場合、イベント（クリック、マウスダウン、ドラッグなど）を文書化し、そのイベントによって引き起こされる状態の変化をテキストで記述するか、視覚的に描写します。

アニメーションの仕様はビヘイビアと混同されることがありますが、これは、イベントのトリガーとステートのシフトが、それらの瞬間の間に発生するモーションの中心だからです。

アクセシビリティ
設計者は、コンポーネントの設計がアクセシブルに実装されていることを保証するために、広範な考慮事項にわたってかなりの詳細を追加することができます。Stephanie Walter氏は、2022年のClarity Conferenceで「A Designer's Guide to Documenting Accessibility & User Interactions」という素晴らしい講演を行いました。

私はアクセシビリティの専門家ではありませんが、コンポーネントがどのように構築されるかについて監査可能な期待を説明するために、私よりも詳しい多くのデザイナーと仕事をしてきました。例えば、フェリックス・クオと私は、スクリーン・リーディングに関する詳細なセクションを洗練させるために働きました。アートワークは、読み方のフォーマット、実践例（アートワークと一致する）、説明されている要素の役割について、要素ごとの注釈と対になっています。

他のコンポーネントのアクセシビリティ仕様のフォーマットとして考えられるものの中で、私が最もよく遭遇するのは、フォーカス順、アナウンス順、代替テキストに関する扱いである。

https://medium.com/eightshapes-llc/component-design-guidelines-eca706100e7c



---
title: "[WIP] ユーザーフロー"
---

## ページ間の相互作用をドキュメントするユーザーフロー

ユーザーフロー（左側）は、「ステップ・バイ・ステップ」のボックスや矢印のグラフのようなもので、誰かがどのようにタスクを達成するかを文書化。ページ、ビュー、分岐、......これらのページやフローを計画するために、プロジェクトの最初に作成されます。

画面フロー（右側）も同じようなものだ。しかし、ページのボックスの代わりに、実際のインターフェイスのモックアップを配置します。ユーザビリティ・テストや改良を経てモックアップができあがったら、最後にそれを作ります。どちらも、開発チームがインターフェイス全体でユーザーがどのようにナビゲートするかを理解するのに役立ちます。

計画へのアクセシビリティに役立つ：

ページ間の遷移。特にシングルページのアプリケーションやモバイルアプリにおいて。
- アラートやメッセージが表示され、ユーザーが別のページに移動しても、ページの一番上に表示され続ける可能性があります。
- セッションの長さがあるかもしれない複数のステップの流れ。
- フォームセッションの長さを制限することは、できる限り避けましょう。

## Wayfinding の文書化
ウェイファインディングとは、人々がページ内で自分の道を見つけるのに役立つもの（ナビゲーションなど）を文書化することです。

ページのHTMLタイトル
今までの例は、ほとんどがコンポーネント・レベルでのドキュメントでした。ページレベルで文書化できることはもっとあります。

例えばページのHTMLタイトルから始めます。
ブラウザのタブに表示される。スクリーンリーダーでもアナウンスされます。これは、ユーザーがどこに何があって、そのページで何が見つけられるかを知るのに役立ちます。
モックアップでこれを文書化することもできます。

### スキップ・リンク
デザイナーは、スキップ・リンクを文書化することもできます。これらは、スクリーンリーダーのユーザーがページのメインコンテンツに直接飛べるようにするリンクです。そして、時には検索に飛ぶこともあります。多くの場合、デフォルトでは「不可視」ですが、フォーカスされると表示されます（そして、スクリーンリーダーによってアナウンスされます）。ヘッダーに常に表示させておくこともできます。あなた次第です。

#### 文書化できる箇所
- リンクがどこにあるか
- フォーカスされたときにどのように見えるか（デフォルトで見えない場合）
- どこにユーザーを送るのか

## HTML Living starndard のセクショニング要素とARIAランドマーク

コンテンツへのスキップは、ユーザーを私のドキュメントの「メイン」と呼ばれるエリアに送っていました。しかし、スクリーン・リーダー・ユーザーのページ上の方向付けを助けるエリアがもっとあります：アリア・ランドマークです。これは、スクリーン・リーダーのユーザーにとって本当に便利なものです。

開発者やアクセシビリティの専門家の助けを借りて、それらの目印を文書化することもできる。

いくつかの HTML セクショニング要素は、自動的に ARIA ランドマーク領域を作成することに注意してください。ですから、main、header、nav などのような HTML 5要素を使う場合、ARIA の役割を二重にする必要はありません。

### ページ内のHTML見出し
適切なHTML見出しは、アクセシビリティのもう一つの重要な側面
H1、H2など。私は2つのことができます：
- モックアップの注釈として見出しレベルを使用する。
- 他のデザイナーが再利用できるように、自分のスタイルに適切な見出しレベルを付けています。

このようなことは、コンテンツ担当者と文書化することもできる。 見出しレベルが必要な場合もあるが、これではSEOが台無しになってしまう。そのような場合は、aria-levels（とpタグ）を使うことができます。開発者に確認してください。例として、私の "let's get in touch "フッターのコードをご覧ください。タイトルはH2と同じですが、これではSEOの意味がありません。そこで、代わりにrole="heading "と "aria-level=2 "を追加した。

https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-level

### ページレベルでのフォーカス順
マウスを使わずに、タブキーを使ってサイトをナビゲートする人もいる。フォーカスの順番は、ページの流れの論理に従うべきです。

Microsoft の Fluent Design System チームによる Figma テンプレート。このような注釈を付けるのに役立つ Figma キットを提供しています。

モックアップが背景にあります。その上に、小さな注釈があります。右側には、フォーカスの順番に対応するドキュメントがあります。この場合、ユーザーはトップナビゲーションと最初の "サイトヘッダー "をナビゲートした後、メインコンテンツに入ります。左のサイドバーから始まり、次に「戻る」リンク、そして最後にコンテンツの右の部分に移動します。

複雑なB2Bアプリで多くのインタラクションを扱うようになれば、かなり便利になるだろう。

### コンポーネントレベルでのフォーカス順
- フォームの場合
  コンポーネント・レベルでのフォーカス順序を文書化することがあります。コンポーネントが複数列のレイアウトになっている場合によく起こります。

多数のチェックボックスを持つ複雑なモーダルで、コンポーネント レベルでこのようなドキュメントを作成した例を示します。モーダル コンテンツ全体のタブ (フォーカス) 順を、数値のアノテーションで文書化しています：

- テキスト フィールド
- 特定の順序のチェックボックス
- キャンセル ボタン、確認
- モーダルの終了

モーダルはエスケープ キーで閉じられるように指定します。

フォーム フィールドに小さな注釈番号を付けたり、順序を示す矢印を付けたりして、これを文書化することができます（これが左の例です）。Figma を使用している場合、Microsoft のチームがプラグイン（A11y Focus order）を作成しました。このプラグインでは、要素を選択し、それらに番号を付けることができます。また、並び替えもできます。

https://www.figma.com/community/plugin/731310036968334777/A11y---Focus-Order



---
title: "[WIP] 代替コンテンツとマークアップの文書化"
---
画像の代替と支援技術(スクリーン・リーダー)のアナウンス
モックアップに画像またはアイコンがある場合、デザイナーは、支援技術が何をアナウンスすべきかを文書化することができます。

私はこの画像の代替テキストを文書化するために注釈のテクニックを使っている：
- 画像上の数字
- 右側の代替詳細文書
  また、保存、共有、評価の3つのボタンがあります。それぞれにアイコンとラベルがあります。注釈では、スクリーン・リーダーはアイコンのために何もアナウンスすべきではないと説明しています。 そうしないと、同じ情報が2度表示されることになり、煩わしいからです。

開発者がアイコンをどのように実装するかはわかりません。
そのため、空のaltにするのか、role=presentationにするのか、......正確に文書化しないほうがいいと思います。その後、どのように実装されるかを反映するためにドキュメントを更新。

altテキストフィールドも開発する必要があるということです。このトピックに興味があるなら、ATAG: Authoring Tool Accessibility Guidelinesを見てみましょう。

https://www.w3.org/WAI/standards-guidelines/atag/

スクリーン・リーダーが必要です。

再度、注釈を使用して、それを文書化します：

1番目は "グラフを見る"
2番目は "表を表示"
開発チームの助けを借りれば、これをさらに一歩進めることができる。彼らは、いくつかのARIA状態（selectedなど）のドキュメントを追加することができます。

発表されたコンテンツの順序
また、発表されたコンテンツの順序を文書化することもできる。これは、順序がHTMLフローと異なる可能性がある場合に興味深いものです。ほとんどの場合、アナウンスされた順序と視覚的な順序を同じにしたいことに注意してください。

この例では、料理レシピの "サムネイル "コンポーネントの小さなバージョンを用意しました。このコンポーネントはグリッドページで使用されます。縦長のレイアウトで、一番上に画像があり、その上に保存ボタンがあります。そしてカテゴリー、レシピのタイトルと概要。

画像は表示させたくない、なぜならたくさん表示されるから。
H1タイトルは最初に announce されるべきです。これが私のデザインで大きな太字になっている理由だ。視覚的に階層を伝えるためだ。だからこれが1番になる。
保存ボタンは、たとえ視覚的に一番上にあったとしても（主にスペースを確保するため）、HTMLの一番下にして、最後に告知すべきです。
では、どのように実装しますか？Access42 のアクセシビリティ・エキスパートである Marie Guillaumet が説明してくれた：

「タイトルが視覚的にはカテゴリの後に表示されるとしても、HTML コードではタイトルを前に置く必要があります。こうすることで、スクリーンリーダーはタイトルを読み、次にカテゴリーを読みます。それから、CSS を使って、コンポーネント内で視覚的に順序を逆転させます」。

スクリーン・リーダーのトピックをさらに掘り下げたいのであれば、以下をお勧めする：

デザインのアクセシビリティをテストするための4ステッププロセス

https://ux.shopify.com/a-4-step-process-for-testing-the-accessibility-of-your-designs-17bc95bceafe

### 支援技術のための追加コンテンツ
スクリーン・リーダーの利用者が追加情報を必要とすることがあります。

この例で言えば、通知バッジにいくつもの項目があるとする。ただ数を告げるだけでは混乱するかもしれない。異なるシナリオに対して、どのようにアナウンスすべきかを文書化することができます：

- 私の文書に新しい文書はありません（通知がない場合）
- 自分のドキュメントに新しいドキュメントが5つある（5つある場合）
- タスクに新しいタスクがない
- 自分のタスクに新しいタスクが5つある（5つある場合）

専門家がお手伝いできるフォーム・アクセシビリティの文書化
フォームのアクセシビリティのために文書化できることはまだまだあります。

しかし、これには専門家や開発者の助けがもう少し必要かもしれません。多くの例では、開発者やアクセシビリティの専門家と協力することで、その文書にさらに次のような情報を追加することができます：

- 正しいHTMLセマンティック要素（ボタンを使っているのか、hrefリンクを使っているのか）
- ARIAの役割
- ARIAステートとプロパティ

例えばフォームの場合は、次のように追加できます：
- 正しい HTML5 タイプは何ですか？
- 私の例では、右のフィールドの横に小さなピンクの注釈があります：option, type=date, type=search。
- このフィールドは、オートコンプリート、オートフィルなど（属性）を持つことになっていますか？
- 凡例とフィールドのグループ化マークアップ
- ページが開いたときにフォーカスされるデフォルトの要素（必要な場合、多くの場合必要ありません
- キャプションやトランスクリプトなどの外部ドキュメントへのアクセス。

最後に、デザインファイルで文書化できないこともあります。そういったものについては、外部ソースへのリンクを提供することがよくあります。

そのような例としては
ビデオのキャプション。プレーン・テキストのトランスクリプトへのリンクや、.srt ファイルへのリンクを提供することができます。音声トランスクリプト用のHTML/テキストリソース（ポッドキャスト用など）
アンカーを含むリンク/CTAのリスト。「ここをクリック」リンクは、アクセシビリティ上もユーザビリティ上も最悪です。避けたいものです。多くの場合、コンテンツ担当者（SEO や UX ライター）は、実際の URL、アンカー、タイトルなどを記載したリンクのリストを提供します。
