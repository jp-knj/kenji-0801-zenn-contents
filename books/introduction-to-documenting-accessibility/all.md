---
title: "下書き"
---
## この本について
アクセシビリティは、残念ながら多くのプロジェクトではまだ後回しにされています。インタラクションやアクセシビリティの要件はドキュメントにされないことが多いでしょう。デザイナーが考慮しても、開発チームにデザインカンプを引き渡す際に抜け漏れや忘れ去られてしまうこともあります。そして、実装後にアクセシビリティを修正するには、最初に正しく構築するよりも多くのコストがかかります。

デザインシステムにアクセシビリティは必要不可欠です。

障がいのあるユーザーはオンラインユーザーの少数派であるという誤解があります。私たちはアクセシビリティを支援技術や色覚異常のような視覚障害を持つ人々だけに関連付ける傾向があります。しかし、デザインチームは、認知障害や失読症を持つ人々がデジタルプロダクトをどのように体験するかも考慮しなければなりません。

令和3年の障害者白書によると、人口千人当たりの人数でみるとき
- 身体障害者は 34 人
- 知的障害者は 9 人
- 精神障害者は 33 人

複数の障害を併せ持つ者もいるため、単純な合計にはならないものの、国民のおよそ 7.6 ％が何らかの障害を有していることになります。

他にも、一時的な障がいを持つユーザーもいるでしょう。
具体例を挙げると
- 腕を骨折してしまい、マウスを使えないユーザー
- メガネを忘れてしまい画面が見え辛いユーザー
- 右手をケガしてしまい、左手のみで操作しているユーザー

上記の数字や例を見るとき、組織は障がい者が提供するビジネス上の価値も考慮しなければなりません。ここでは、デザインシステムにアクセシビリティやインタラクションをどのようにドキュメントやデザインプロセスに組み込んでいくかを取り上げていきます。

優れたドキュメンテーションは、チームが正しい方法でアクセシビリティ要件を実装するのに役立ちます。より良い、よりインクルーシブなプロダクトを構築するために、デザイナーがアクセシビリティとインタラクションの要件をさまざまな側面からドキュメントに残す理由、何を、どのようにするのかを提示していきます。

## 対象読者
- デザインシステムを運用するメンバーが少数で、リソースの 20%～30% しか割けない状況の方
- アクセシビリティをどのように進めていけば良いかわからない方

## 何を学べるのか
- アクセシビリティをドキュメントに残す理由
- ドキュメントに残すべきこと
- ドキュメントに残す方法
- ドキュメントに残す人はだれか

## この本の構成
### 1部
- アクセシビリティをドキュメントに残す理由
### 2部
- どこでどのようにアクセシビリティをドキュメントに残すべきか
- デザイナーは何をドキュメントに残すのか
- ページとコンポーネントのアクセシビリティをどう残すべきか
### 3部
- だれがいつドキュメントに残すべきか

------------------------------------------------------------
## アクセシビリティについて
### アクセシビリティとデザインシステムの価値
アクセシビリティの価値を理解することは、デザインシステムの構築時に非常に重要です。デザインコンポーネントとコードがアクセシビリティ標準に適合しているか最初に確認することで、アクセス問題を未然に防ぐことができます。アクセシビリティガイドラインを基盤とするデザインシステムは、ユーザビリティの向上にも寄与します。

### アクセシビリティの問題とユーザビリティ
アクセシビリティの問題は主に以下のようなものです：
- ユーザーが情報を取得できない。
- ユーザーが操作できない。
- ユーザーが理解できない。
- デバイスを変更した際、情報の取得が困難になる。

これらの問題は多くのユーザーに共通しています。具体例として、以下のような事例が挙げられます：
- スクリーンリーダーで内容を理解できない（代替テキストがない画像など）。
- キーボード操作ができない。
- 音声がないと動画の内容を理解できない（キャプションがない場合）。

ユーザビリティの問題は以下のようなものです：
- 使いにくい。
- 分かりにくい。

これらの問題は、ユーザーごとに評価が異なることがあります。具体例を挙げると：
- 読みにくい文章（段落分けや小見出しがない）。
- テキストリンクが識別しづらい（下線がないなど）。
- ボタンのアイコンの意味が不明瞭（テキストラベルがない）。

### アクセシビリティの目的とガイドライン
Webコンテンツの制作や機能の実装の主な目的は、アクセシビリティのガイドラインを満たすことではなく、ユーザーがタスクを効率的に完了できるようサポートすることです。

> このガイドラインは、高齢者のウェブコンテンツ利用を向上させるものであり、利用者全般のユーザビリティも高めることを意図しています。
引用元: [0B イントロダクション｜日本工業規格「JIS X 8341-3:2016」](https://waic.jp/docs/jis2016/understanding/201604/)

詳しい情報については、[こちらの記事](https://www.accessibility.com/blog/whats-the-difference-between-usability-and-accessibility)も参照してください。JIS X 8341-3:2016の達成基準には、ユーザビリティを向上させる要素も多く含まれています。

### UXの向上とアクセシビリティの共通点
UXを向上させるデザインTipsとアクセシビリティのガイドラインには多くの共通点があります。例えば：
- ページタイトルは内容を明確に伝える。
- リンクテキストはリンク先の内容を明示する。
- 自動再生の音声や動画は避ける。
- キーボードのみでの操作を可能にする。
- 制限時間内での操作を強制しない。
- サイトマップを提供する
- サイト内検索機能を提供する
- エラーメッセージは、エラーの内容と指示を分かりやすく説明する
- 共通した機能の見た目やラベルには、一貫性を持たせる
- ナビゲーションには、一貫性を持たせる
- Webサイト内での現在位置が分かるようにする））

アクセシビリティは、ユーザーの操作の困難さを軽減し、ユーザビリティを向上させるためのものです。

## Webアクセシビリティを確保することによって
### より多くのユーザーが利用できる
Webコンテンツを利用するときのユーザーが直面する問題や不便さが解消されることにより、より多くのユーザーが快適に利用できるようになります。
- 支援技術を使用している障害のある人
- 加齢により視覚や聴覚などの能力が低下している中高年やシニアの人
- 一時的に普段とは異なる状況で利用しなければならない人

### 多様化する利用環境に対応できる
多種多様なユーザーの利用環境をサポートすることができます。
- デバイス：PC、携帯、スマートフォン、タブレット端末、テレビ、ゲーム端末、家電、クルマなど
- OS：Windows、Mac、Android、iOSなど
- ブラウザ：Edge、Google Chrome、Firefox、Safari、Operaなど
- 操作手段：マウス、キーボード、タッチ、音声など
- 支援技術：スクリーンリーダー、点字ディスプレイ、画面拡大機能、色反転機能、オンスクリーン・キーボード、マウス・エミュレータ、スイッチなど

### 場面や状況を選ばず、より快適な体験を提供できる
スマートフォンやタブレット端末の普及により、Webコンテンツは場所を選ばずに利用できるようになりました。アクセシビリティを確保することによって、ユーザーが利用したいときに、より快適に利用しやすくなります。
- 屋内：家、学校、職場、図書館、カフェ、レストランなど
- 屋外：日なた、日陰、公園、路上など
- 移動中：電車、地下鉄、バス、タクシー、駅のホーム、待合室、空港など
- その他：災害などの緊急時や避難所など

### 顧客満足度とイメージの向上につながる
ユーザーにとって重要なのは、快適に利用できるかどうかです。アクセシビリティの確保によってユーザビリティも向上し、結果としてユーザーの満足度とイメージが向上します。

### Webコンテンツの品質が向上する
ユーザビリティとは異なり、アクセシビリティにはガイドラインが存在します。例えば、『JIS X 8341-3:2016』の基準に基づいて、Webコンテンツの制作や開発、運用が可能です。この基準はW3C勧告『WCAG 2.0』や『ISO/IEC 40500:2012』と同じ内容です。

### 標準規格への対応による信頼感と安心感を提供できる
アクセシビリティの確保をさらに一歩進め、『JIS X 8341-3:2016』への対応方針や試験結果を公開することで、ユーザーに信頼感や安心感を提供します。公開した内容は定期的に更新し、ユーザーの信頼を維持することが大切です。

### 製品の国際競争力が向上する
多くの国でWebアクセシビリティの確保が法的義務となっています。日本市場だけでなく、国際市場でもアクセシビリティを確保することは製品の品質を証明する要素となります。

### 法的リスクの軽減
法律や条例で定められた要件を満たすことによって、法的リスクを軽減することができます。アクセシビリティの確保は、企業の社会的責任を果たすことにもつながります。

### 社会的責任を果たすことができる
アクセシビリティの確保は、企業の社会的責任を果たすための重要な要素です。多様なユーザーと共に、より良い社会を築いていくためには、アクセシビリティの確保が欠かせません。
------------------------------------------------------------
who
## 誰が文書化するべきか？
私は考えを文書化し、最終的な質問として「誰がこれらを文書化するべきか」と考察しました。

### 2つの答えがあります：
1. チームでやる
2. 場合による

### チームでの文書化
アクセシビリティのドキュメンテーションは、チーム作業として実施されるべきです。以下はその主要な参加者です：

- **PdM と PjM** : プロジェクトレベルでアクセシビリティの要件を定義し、文書化。
- **デザイナー** : デザインとその動作・表示に関する文書化。
- **開発者とアクセシビリティ専門家** : 技術的実装の文書化。
- **コンテンツ担当者、UXライター、SEO担当者** : 代替テキストやコンテンツに関する文書化。
- **テスターとQA** : アクセシビリティのテストケースの文書化。

### 場合による
文書化の担当は、チームの構成やプロジェクトの性質に応じて変わることがあります。

## いつ文書化するのか？
文書化は、技術的な実現可能性を確認した後、最終的なコンポーネントやページが完成した段階で行われるべきです。

## 文書化のメリット
### デザイナーにとって
- アクセシビリティに関する知識の深化
- インタラクションに対する深い考察
- ユーザーの異なる使用方法への配慮

### デザイナーと開発者の関係強化
- 誤解の解消と効率的なコミュニケーションのサポート
- 一貫性の維持

### 新しいメンバーやチームにも利益
- オンボーディングのサポート
- アクセシビリティの基準の確立
- アクセシビリティに関する意識の向上

------------------------------------------------------------
what 
## アクセシビリティをドキュメントに残す理由
アクセシビリティの問題を「修正」するだけでは遅いことが多いです。

サイトがアクセシビリティを考慮して設計・開発されていない場合、後から修正するのは大変で、費用もかさむ。それは壊れたメガネにガムテープを貼るようなものです。

私は、最初から正しく設計・構築できたのに、なぜ後から修正するのか疑問に感じます。

アクセシビリティはプロジェクトの早い段階から取り入れるべきです。良いガイドラインと文書は、それを実現するのに役立ちます。これらはプロジェクトの初期段階で、アクセシビリティの問題を早期に特定し、修正する手助けとなります。アクセシビリティは、「プロジェクトの通常の設計と開発の過程」の一部として組み込まれるべきです。

### どこでどのように文書化すればよいのか？
- アクセシビリティに関する注釈をモックアップやデザインドキュメントに追加
- コンポーネントドキュメント: 我々のデザインシステム内で各コンポーネントについて説明
- ページドキュメント：コンポーネントがページ上でどのように整理されているか

#### コンポーネントごとのドキュメント
コンポーネントのモックアップには、開発者がインタラクションやアクセシビリティを理解しやすいようにデザインの注釈を付けるべきです。多くの開発者は仕様書やドキュメントを読むことを避けるかもしれませんが、デザインファイルなら確認するでしょう。

### ページごとのドキュメント
参考：[Accessibility Annotation Examples](https://www.behance.net/gallery/78024369/Accessibility-Annotation-Examples%20)

### チームと共に最適なドキュメント形式を決定する
- Jiraチケットをドキュメント/リサーチリポジトリとして使用
- ワードやエクセルでの個別ドキュメント
- Miroボード（モックアップとドキュメントの組み合わせ）
- Figmaのコメント
  これはチームとのオープンな議論が必要です。

文書化方法は多岐にわたります。自分たちのチームに合った方法を見つけて試してみてください。ただし、文書化は対話の代わりにはなりません。

可能ならば、直接会い、ドキュメントを共有し、ディスカッションすることがベストです。私たちのチームでは、毎週ミーティングを行っています。開発者はデモを提供し、私は関連するドキュメントや仕様を共有して議論します。

## デザイナーは具体的に何をドキュメントに残すのか
デザイナーが文書化すべき内容は何でしょうか？ これを明確にするため、以下の4つのカテゴリに分けてみました。

- ビジュアルデザイン
  - デザイントークン
- インタラクション
  - アニメーション
- コンポーネント
- ナビゲーション
  - ユーザーフロー
- 代替コンテンツとマークアップ
------------------------------------------------------------
testing
## どうやってアクセシビリティをテストするのか？
世界保健機関（WHO）によると、世界人口の約15％が何らかの障害を抱えて生活している。これには、明らかな場合とそうでない場合が含まれます。デザイナーとして、アクセシビリティ（a11y）はQAチェックリストの最後の項目ではなく、すべてのデザイン決定の一部として重視すべきです。

最近、Shopifyの私の製品エリアで、a11y関連の問題の監査と修正を行いました。スクリーンリーダー固有の問題を自動的にテストする専用ツールがないため、スクリーンリーダーの使用は複雑であると感じています。スクリーンリーダーは補助ツールであり、その使用方法はユーザーのニーズに応じて異なります。

### スクリーンリーダーの設定
このガイドでは、新しいMac、iPhone、iPadに内蔵されているスクリーンリーダープログラム、VoiceOver on Macを使用します。Windowsの場合、JAWSまたはNVDAを使用できます。ガイドはOSに依存しない質問とインタラクションの例を提供します。

スクリーンリーダーの設定の最初のステップは、それを有効にし、そのキーボードショートカットに慣れることです。

### a11y の問題をどうやって認識するのか？
WebAIMの記事を参考に、視覚的なユーザーとスクリーンリーダーユーザーのウェブコンテンツへのアクセス方法の違いについて考察しました：

> "多くのスクリーンリーダーユーザーは、ウェブページの内容を即座に調査することは難しい。最も重要なコンテンツが視覚的にどのように提示されているかは、彼らにとっては重要ではありません。"

迷ったときは、デザインしたインタラクションが期待通りに動作するかどうか自問することが大切です。視覚障害のあるユーザーがコンテンツを理解し、キーボードを主に使って、他のユーザーと同じようにページを簡単にナビゲートできることが重要です。

### 監査プロセス
WCAG 2 AA要件の多くをカバーする基本的なナビゲーション方法を紹介します。このガイドで紹介する方法で要件を満たすことができます。

#### タブ
- Tabキーは、次のフォーカス可能なアイテムに移動するのに使います。
- Shift-Tabは、前のアイテムに戻るのに使います。
- フォーカスの順番は、コンテンツを読む順番と同じであるべきです。
- 要素の名前、状態、ラベル、グループ内の位置（該当する場合）が正確かつ十分に報告されるか確認します。

要素がマウスで操作できる場合、キーボードでの操作方法も提供されるべきです。

## Ctrl-Option- ← →キー
Ctrl-Option-左または右矢印キーは、ページの前の項目または次の項目に移動するために使用されます。読み順や表のマークアップをテストするときに便利です。

- 私は正しい順序でナビゲートしていますか？
- フォーカスの順番は読み順と同じですが、言語によって異なる場合があります。
- 表の中で、コンテンツは正しく十分に告知されていますか？
- 列と行の数は正確です。
- 表のヘッダーとセルの項目は、より分かりやすくなっています。

### Ctrl-Option-Cmd-H
Ctrl-Option-Cmd-Hで次の見出しに移動し、Ctrl-Option-Cmd-Shift-Hで前の見出しに移動します。私はこれを使用して、ページの概要をざっと確認するのに役立てています。

- 見出しや小見出しは意図的かつ意味的に使われていますか？
- 見出しは必要に応じて使用されています（コンテンツを整理し、構造化するため）。
- ページにはh1要素しかない。
- p要素はhタグのように見えず、逆もまた然り。
- 見出しのレベル（h1、h2、...、h6）は、コンテンツの階層とグループ化に基づいて選択されます。

### Ctrl-Option-Cmd-G
Ctrl-Option-Cmd-Gは次の画像に移動するとき、Ctrl-Option-Cmd-Shift-Gは前の画像に移動するときに使用されます。画像の代替テキストをテストするときに利用します。

- 画像のaltテキストは説明的で文脈に即していますか？
- すべてのimgタグにはalt属性が必要です。
- 説明文は画像の目的を理解するのに役立ちます。
- 良い例：altテキストは画像の目的を明確に説明しています。
- altテキストを記述する際の良い習慣と悪い習慣に関するヒントをもっと知る。

#### ボーナス：無効ボタン
無効ボタンは、特定の条件が満たされるまでアクションが利用できないことを視覚的に伝えるために使われます。しかし、フォーカス順（タブ）では無視されます。そのため、常に無効化された要素を表示するべきではないのか、という疑問が生じることがあります。以下は、その疑問に答えるための質問です：

- 現時点での無効化された要素にアクセスすることはユーザーにとってどれほど重要ですか？ その要素がなくても、ユーザーは目の前のタスクを遂行できるでしょうか？
- もし重要であれば、それを有効にするための明確な指示や、タスクを遂行するための代替手段はありますか？

これらの質問を通じて、コンテキストを明確にしたり、意味のあるときだけアクションを表示したり、フローの一部を再考することが可能になります。
------------------------------------------------------------

## ビジュアルデザイン
色はデザインドキュメンテーションを考える際の主要な要素です。最も基本的な要素として、デザイナーはカラーとカラーパレットを最初に文書化することができます。

### カラードキュメンテーションの基本
- パレットの各色を白い背景と合わせて確認。
- 各色がテキストや大きなテキストの AA または AAA コントラスト比基準を満たしているか記録。

関連リンク：
- [Color Accessibility Tools & Resources](https://stephaniewalter.design/blog/color-accessibility-tools-resources-to-design-inclusive-products/)
- [Tips to Create Accessible Color Palette](https://stephaniewalter.design/blog/tips-create-accessible-color-palette/)

### すべての組み合わせを記録するカラーマトリックス
カラーマトリックスは色の組み合わせを示すツールです。横軸と縦軸に同じ色を配置し、交点は色のペアリング比率を示しています。これにより、2つの色の組み合わせが可能かどうかを一目で確認できます。

- [Contrast Grid](https://contrast-grid.eightshapes.com/?version=1.1.0&background-colors=%23FFFFFF%2C%20White%0D%0A%23FEDC2A%2C%20Yellow%0D%0A%235A3B5D%2C%20Dark%20Purple%0D%0A%238B538F%2C%20Light%20Purple%0D%0A%23C3A3C9%2C%20Lightst%20purple%0D%0A%23777777%2C%20Gray%0D%0A%23555555%2C%20Darker%20Gray%0D%0A%0D%0A&foreground-colors=%23FFFFFF%2C%20White%0D%0A%23FEDC2A%2C%20Yellow%0D%0A%235A3B5D%2C%20Dark%20Purple%0D%0A%238B538F%2C%20Light%20Purple%0D%0A%23C3A3C9%2C%20Lightst%20purple%0D%0A%23777777%2C%20Gray%0D%0A%23555555%2C%20Darker%20Gray%0D%0A%23444444%2C%20Darker%20%20Darker%20Gray%0D%0A%23333333%2C%20Fifty%20Shades%20of%20darker%20gray%0D%0A%23222222%2C%20Dorian%20Gray%3F&es-color-form__tile-size=compact&es-color-form__show-contrast=aaa&es-color-form__show-contrast=aa&es-color-form__show-contrast=aa18&es-color-form__show-contrast=dnp)

### スタイルガイドでの色の組み合わせドキュメンテーション
デザインシステムでは、許可されている色の組み合わせや禁止されている組み合わせについて明確にドキュメンテーションすることが推奨されます。

### AA、AAA、コントラスト比についての情報共有
すべてのデザイナーがこれらの基準や概念に詳しいわけではありません。そのため、これらの情報をデザインチーム全体で共有し、理解を深める必要があります。

関連リンク：
- [WCAG for Designers](https://gerireid.com/wcag-for-designers.html)
- [High Color Contrast Guide](https://www.accessguide.io/guide/high-color-contrast)

## デザイントークンとは？
デザイントークンは、デザインシステムの特定の値を表すデータです。これには`color`、`spacing`、`typography scale`など、デザインシステムを構成する要素が含まれます。これらの値はプロダクトチームが意図的に決定し、一般的にはCSS変数としてコードベースに反映されます。これにより、`single source of truth`を維持し、デザインツールと開発ツールを自動的に同期させることができます。

### デザイントークンの仕様
デザイントークンには、特定の仕様があります。例えば、あるツールから別のツールへ移行する場合、データ構造の不整合が生じる可能性があるため、デザイントークンの形式がそのツールと互換性があるかを確認する必要があります。デザイントークン・コミュニティ・グループは、このためのルールとガイドラインを提供する[design tokens specification](https://tr.designtokens.org/format/)を作成しています。そして、仕様に沿ったデザイントークンの検証は[design tokens validator](https://animaapp.github.io/design-token-validator-site/)を使用して行います。

## design-token-validatorについて
具体的なデザイントークンの仕様が定義されると、ツールは一貫したトークンのフォーマットを持つことができるようになります。これはデザインとWeb開発のコミュニティにも貢献します。Animaは最近、このようなデザイントークン検証ツールを無料のオープンソースツールとしてリリースしています。

## デザイントークンの命名と分類
デザイントークンの命名や分類には、以下のような課題が存在します。

- component tokenの名前がわかりにくい。
- tokenの名前が長すぎて、Figmaで全て表示されない。
- tokenが多すぎて、どれを選ぶか決められない。
- tokenの背景や使用目的がわからない。

これらの問題を解決するためには、明確で直感的なセマンティックトークンを提供することが必要です。その結果、デザイナーや開発者は論理的な根拠を理解し、適切なスタイルを適用することができるようになります。

### 解決策
デザイントークンの名前は、デザイントークンを識別し参照する方法として利用されます。この核心となる「名前」は、[catalog system](https://en.wikipedia.org/wiki/Library_catalog) や API で順序立てて表現されています。この `catalog system` や API はトークンの分類法として知られており、明確な分類法の導入により、デザイントークン利用者にスケーラブルで予測可能な命名規則を提供できます。

私たちは以下の基準に基づいてセマンティック・トークンとタクソノミー・システムを定義しています：
- わかりやすさを優先し、簡潔さを追求
- プラットフォーム間での一貫性
- 複雑さを避け、シンプルに保つ
- 抽象度のバランス（一般的でありつつも実用的なコンテキストを提供）
- オブジェクト指向の分類法の採用

トークンは幅広いユースケースをカバーし、その分類法は直感的かつ合理的である必要があります。トークンの数は最小限に留めつつ、必要なカバレッジを確保します。作成したトークンはデザインシステムチームのデザイナーや開発者にテストしてもらい、問題解決の適切性を確認することが重要です。

#### ユースケース・カバレッジとは？
ユースケースのカバレッジは、包括的なユースケース下で論理的に考慮されるユースケースの総量を指します。例えば、`text-color-default` は多くのコンポーネントに適用可能ですが、`title-color-default` は `title` にのみ適用されます。トークン・システムの定義において、異なるトークン・タイプとユースケースのカバレッジとの関係を考慮することが解決策の一部となります。

### プリミティブトークン (Primitive tokens)
プリミティブトークンには具体的な使用意図が存在しないため、インターフェースの様々なユースケースで利用可能です。しかし、これらのトークンは特定の文脈には縛られないため、統一された視覚言語の構築には向かない場合があります。

### セマンティックトークン (Semantic tokens)
セマンティックトークンは特定の文脈を持ち、その範囲内での利用が想定されています。そのため、セマンティックトークンは幅広いユースケースを持つことが多いです。

### コンポーネントトークン (Component tokens)
コンポーネントトークンは特定の文脈での使用が明確にされているため、再利用の範囲が限定的です。これにより、他のトークンタイプに比べてユースケースのカバレッジが狭まります。トークンの種類とユースケースのカバレッジの関係を理解することで、問題の整理と解決策の策定が容易となります。

### 分類法の作成
トークンの初期セットと分類法の下書きを作成しました。  
"color"からの洞察を開始し、既存および新規の必要なユースケース、さらには潜在的に価値のあるユースケースを特定しました。

カテゴリー作成の過程では、オプションの類似性に基づいて分類し、関連する単語をシソーラスから抽出しました。各単語の選択には投票を行い、結果をデザイナーやデザイントークンの利用者と共有し、フィードバックに基づいて修正や検証を行いました。

例として、私たちは"primary"、"secondary"、"tertiary"のような概念を用いました。"primary"の色はコントラストが高く、一方で"tertiary"はコントラストが低いです。最終的に、私たちが作成したカテゴリーは"Prominence"と呼ばれ、"accent"色などのユースケースに適していました。

この分類法は、用語の重複を最小限にし、明確な目的を持つカテゴリーを形成することが必要です。曖昧さは混乱や矛盾を招き、それを排除することで、弾力性と拡張性を持つシステムを構築できます。その目的は、長期的な安定性を確保し、スケーラブルで合理的なシステムを構築することです。

### カテゴリーとその選択肢
各カテゴリーは、特定の質問に答えるように設計されています。以下は、いくつかのカテゴリーとその質問の具体例です。

- **要素**  
  このカテゴリーは、トークンが関連するUIオブジェクトを特定します。  
  質問: "どのオブジェクトがこのトークンを使うのか？"  
  例: 入力、アクション、データ、コンテナ

- **プロミネンス / Prominence**  
  視覚的な階層性や要素の目立ち具合を示します。  
  質問: "このトークンを使用しているオブジェクトは、視覚的にどの程度目立つか？"

- **目的**  
  トークンがUI内で果たす役割やメッセージを示します。  
  質問: "ユーザーに何を伝えているのか？"  
  通常、色に関連して使用されます。

その他、システムには具体的な定義、システム内での目的、例などのカテゴリーも含まれています。

### 利用者へのテスト
セマンティックトークンの再構築は、デザインシステムの有効性について迅速かつ現実的なフィードバックを提供します。複雑なセマンティックトークン（例: color）の名前や構造が直感的であることを確認するため、デザイナーやユーザーとのテストを繰り返します。

### デザイントークンによるビジュアル言語
このセクションでは、問題の特定からタクソノミーの実装に至るまでのプロセスを概説します。プロジェクトのステップとしては、現状のトークン使用状況の監査・分析、共同下書きの作成、ワークショップの実施、そしてタクソノミーの決定が含まれます。

### 課題と目標
- 解決すべき課題と到達すべき目標を明確にする

デザインシステムには、UI コンポーネントのカタログに適用される確立されたビジュアル言語があります。色の選択、グループ、関係性は明確に定義されており、タイポグラフィ、スペース、サイズも一定の組織化がされています。

具体的な課題は以下の通りです：
- トークンのギャップが蔓延しており、必要な部分でハードコードされた値や一般的なオプションが残っている。
- トークンがシンプルすぎて、ダークモードやテーマを作成する際に使用が難しくなる。
- トークンが一般的すぎて、特定の目的のために広範に適用されている。
- トークンの適用が誤っている。
- 一部の"トークン"は実際にトークンとしての整理が不十分であり、相反する変数のリストになっている。
ビジュアル・ファウンデーションの現状は不完全で不正確です。そのため、合理的に進化し、成長し、スケールする必要があります。この改善にはコストがかかります。トークンのリファクタリングをするためには、コンポーネントカタログ全体を総括的に検討する必要があります。新しいビジュアル言語を追加すると、既存の命名パターンが破壊される可能性があります。しかし、その大部分はUIコンポーネント内に閉じ込められます。したがって、チームが結集し、解決すべき問題に同意し、言語の変化を予測し、その影響がカタログ全体に及ぶことを認識する必要があります。

#### 計画を立てる
中小規模のプロジェクトでは、すべてのステップを詳細に計画する必要はありませんが、対話を通じて解決する必要があります。

アプローチについて：
- プロダクト全体を監査して分類法を提案するのか？
- カタログ全体で変更を段階的に実施するのか？

影響を受けるトークンの種類は？
- 基本的な色と意味的な色だけか？
- コンポーネント固有の色も？
- タイポグラフィ、スペース、サイズ、シェイプ、立面図なども含まれるか？

コンポーネントのデザインの変更範囲は？
- 追加しながら強化するのか？（例：フォーカスリングの状態を追加）
- 変更しながら修正するのか？（例：仕切り線の色の不統一を修正）

プロジェクトの完了の目安はいつか？そして、何が完了したときにトークンの仕様が十分に反映されるのか？
- Figmaライブラリ
- コンポーネント
- コードやドキュメントサイトの統合

対象となるUIコンポーネントは？
- どのUIコンポーネントを監査して適用するのか？

監査対象と全体の対象範囲のコンポーネントを確認するスプレッドシートを作成すること。これは、トークン分類法のスプレッドシートとして作成されます。

#### トークンを監査する
デザインとコードを検討し、トークンやCSS変数、ハードコードを特定し、それらがUIコンポーネントにどのように適用されているかを確認します。その上で、対応するコンセプトや行動を特定します。

##### 2.1 トークンのパスをマップする
デザインアセット、ドキュメント、ブラウザ表示のトークンのフローをマッピングすることを検討します。トークンがどこに存在して、どのようにインポート、結合、変換、適用されるのかを全体的に明確にするためのものです。

コードのスクリーンショットを使ってトークンのフローをマップします。これは、共同作業者に概念を理解させ、具体的な例に焦点を当てるためのものです。例として、Style DictionaryからWebの`button.scss`ファイルへのフローをマッピングします。

この過程で、トークンがコードでどのようにインポートされ、ローカル変数やスタイリングユーティリティにどのようにマッピングされる

#### 現状のトークンを収集する
トークンの住処を調べ始めたら、そこからトークンを発掘します。具体例を挙げると、デザインシステムのFigmaのテキストやカラー・スタイルや、Style Dictionary のようなツールに実装されたトークンを指します。

ここでのトークンとは、一貫性のない変数名や不正な Figma スタイル、共同作業者がトークンだと誤解していたものや、システムによって公開されたトークンと無関係なものが含まれる可能性があります。

- トークン名のレベルを別の列（プロパティ = テキスト、バリアント = プライマリ）で後でフィルタリングや並べ替えができるように連結。
- 異なる値や概念が1つまたは複数の場所（Figma、コード・ファイルなど）に表示されるトークンの場所。
- ツール間の"トークン"説明により、どこに何が記述されているのかや、出力間で何を調整するのかを特定。

#### Figma でスタイルがどのように適用されているかを調べる
トークンの構造がよく理解できたので、トークンがコンポーネント間でどのように適用されているかを、頻度や意図に焦点を当てて調べます。

Figmaの選択色機能は大きな助けとなります。全てのvariantを選択し、適用を1つずつカラー・スタイルでたどり、それぞれがどのように適用されているかを探ります。適用されたカラースタイルを追跡するために、Figmaの"選択色"を検査します。

##### 具体性を探求
例えば、Badgeはニュートラルな背景色に`$esds-color-palette-neutral-90`を適用し、Alertは同じ目的で`$esds-color-background-light`を適用しています。どちらのトークンもそれ自体は間違っていませんが、意図は同じであり、より具体的な新しいトークンが必要です。

#### 正確さと明確な意図の探求
一般的なトークンは、多くの目的に広く適用されすぎる可能性があります。例えば、`$esds-color-interactive-primary`と`$esds-color-interactive-text`は、テキストやボーダー、背景、アイコンの塗りつぶしの選択、補完、フォーカス、クリッカビリティ/タップビリティに使用できます。

##### エラーの探求
`$esds-color-text-disabled`のようなトークンは、テキストに対して繰り返し正しく適用されています。このトークンのアイコンに対する不正確な使用は、`$esds-color-icon-disabled`が正当であることを示唆しています。しかし、`$esds-color-icon-empty`や`$esds-color-interactive-empty`、`$esds-color-divider-section`が同じ意図で適用されていることは問題があると考えられます。

#### コードのトークンも検査
快適さのレベルにもよりますが、あなたやチームメイトは、今のライブラリや製品でトークン化された決定を適用しているコード行を検査し、ログを取ることができます。トークンや変数、ハードコードされた値がどのように適用されているかを観察するために、小さなコンポーネントのセットやウェブのCSSのスタイリング要素に焦点を当てることができます。

- 既存のコーディングを参考に、推奨される用語を収集。
- 既に使用や議論されている代替用語。
- `property`、`variant`、`state`など、その用語が適用されるトークン・レベル。
- 使用されているトークンや、影響を受ける可能性のある関連トークン。
- 意思決定に基づいた根拠と注記。

#### トークンの決定
トークンデータと新しいテーマが整ったので、改善された分類法を作成し、フィードバックを受け取りながら修正と反復を行います。

### 分類法の提案
徹底的に調査・分析した後、作業に取りかかります。提案されたトークンのための新しいシートを作成します。

- トークン名：レベルごとの追加列を連結します。
- トークンの種類（ソートとフィルタリング用）：ジェネリック、セマンティック、コンポーネント
- トークンの値
- トークンの別名：他の行への動的参照を使用

意見をまとめたら、協力者にメッセージを送り、意見を聞いたり、意見の相違をその場で解決し、一緒に議論するための代替案を提案します。

#### ワークショップの重要性
- トークンの提案が具体化したら、ワークショップを開催します。
- デザインシステムのメンバーであるデザイナーと開発者を参加させ、必要に応じて他の関係者も加えます。

#### ワークショップの目的
- グループの進捗状況の更新
- 一緒に意思決定を行う

進捗状況の報告には、Figjamボードと閲覧可能なスプレッドシートのスクリーンショットを使用して、監査、分析、提案のストーリーを伝達します。

#### 完成までの繰り返し
数回のワークショップを経て、トークン分類法に関する興味やエネルギーが薄れてきても心配しないでください。この時点で、ダイレクトメッセージや非同期アップデートを利用して、完成に向けての反復を行います。

#### 新しい分類法の実装
決定が済んだら、トークンを仕様書に記録し、コードライブラリ、Figmaアセット、ドキュメントに変換します。

#### 仕様書の記録
私が協力している多くのチームは、トークンの分類法をスプレッドシートやスタイルディクショナリではなく、設計仕様書に記録しています。この仕様書は開発者、デザイナー、ライターにとっての信頼できる情報源となります。仕様内では、トークンごとに、swatch、value、名前、alias、Figmaスタイル、用途の説明を持つセットをグループ化します。

#### ハンドオフとレビュー
ワークショップとは異なり、ハンドオフは簡潔に行います。仕様を紹介し、レビューやコメントの方法を共有し、優先度の高い未解決の問題を解決します。各トークンについての詳細な議論は避け、関連するレビュアーにレビューを依頼し、フィードバックを取り入れます。

#### Figma、コード、ドキュメントの横断的な実装
新しいトークンの種類を定義したら、それを実際に実装します。Figmaでは新しいカラーやテキストを適用し、すべてのコンポーネントを更新します。Style Dictionaryで新しいトークンをJSONファイルに実装し、公開します。ドキュメントやコードもそれに合わせて更新します。変更内容は開発チームにアナウンスし、サンプルコードを提供します。

## アクセシブルでインクルーシブなアニメーションの構築
強大な力には、素晴らしいアニメーションが伴います。アニメーションがユーザーエクスペリエンスをどのように向上させるかを示しました。しかし、これらのツールを使用する際には注意が必要です。欺瞞的なデザインパターンを作成するためにアニメーションを使用しないようにと既に述べましたが、今度はアクセシビリティについて話しましょう。

一部の動きはユーザーを気分悪くさせるかもしれません
あなたのアニメーションは、一部の人々を気分悪くさせる可能性があります。より正確に言うと、動きは前庭障害を持つ人々を気分悪くさせるかもしれません。私のような一部の人々は前庭障害に苦しんでいます。これは内部のバランスに影響を与える病気、損傷、または怪我です。私の目が見るものと私の周りで起こることとの間に不一致があると通常起こります。道路があなたの周りで動くため、車の中で本を読むと気分が悪くなるのと少し似ています。この現象は、私や一部の人々にとって、ウェブサイトやビデオゲームで起こります。動きの酔いを引き起こすさまざまな要因があり、一人ひとりの反応は異なります。一部の人々は吐き気を感じ、一部の人々は1日中頭痛を感じることがあります。

例えば、私はBorderlandsはプレイして楽しむことができますが、Kingdome Heart 3はプレイできません（そのゲームを購入しました…）。また、PS1のSpyro the dragonもプレイできませんでした。ゲームを購入するのはギャンブルのようなものです。時々、ゲームプレイの動画から、そのゲームが自分に向いていないことを知ることがあります。しかし、時々動画が気分を悪くさせる一方で、実際のゲームは問題ないこともあります。あるいは、特定の時間だけ問題ないこともあります。そして、ウェブ上でも同じことが言えます：ある動きは一部の人々を気分悪くさせる可能性があり、他の人々には問題ないかもしれません。

このトピックに興味がある場合（私のブログを読んでいるので、私がここでアクセシビリティについてよく話していることを考えると、興味があることを願っています）、以下を読むことができます：

- あなたのインタラクティブが私を気分悪くさせます
- 前庭障害のためのアクセシビリティ：私の一時的な障害が私の視点をどのように変えたか

2017年にAppleはこの動きの酔いの潜在的なトリガーに関する記事を書いています。それは「Responsive Design for Motion」と呼ばれ、多くの視覚的な例が含まれています。

記事には次のトリガーが含まれています：

- 複数の速度や方向の動き（パララックス）
- スケーリングやズーム
- スピンや渦巻き効果
- 周辺の動き
- など

この例では、私の脳は、私がスクロールする速度とは異なる速度で画面上で要素が動くことに問題があります。それは酔いを引き起こす不一致を生み出します。

**`prefers-reduced-motion` メディアクエリ**

では、私たちにはこれに対して何ができるでしょうか。Appleは2013年にiOSの設定にモーションを減少させるオプションを導入しました。彼らはアプリを開くために作成したアニメーションが、文字通り一部の人々を不快にさせたからです。多くのユーザーが不平を言いました。そして現在、このモーションを減少させるオプションはMacOSのアクセシビリティオプションでも利用可能です。私はWindows 10もEase and Accessセクションの下でこのようなオプションを提供していると思います。MDNには、これらのオプションをどこで見つけるかのリストがあります。

Apple（その後、他のブラウザ）は最近「prefers-reduced-motion」メディアクエリを導入しました。これは、システムが非必須の動きの量を最小限にするようにユーザーが要求したかどうかを検出するために使用されます。現在のサポートはSafari、Chrome、Chrome Android、およびFirefoxです。

**モーションを減少（削除しない）させるユーザーの選好の確認**

デフォルトの値は「no-preference」です。これが少し厄介な部分です。no-preferenceは、ユーザーがモーションを問題視していないか、選好がないことを意味することができますが、ユーザーがこのオプションを知らないことも意味します。もう一つの値は「reduce」です。これは、ユーザーがモーションを減少させるようにオペレーティングシステムに明示的に指示するチェックボックスをチェックしたことを意味します。

したがって、そのパラメータをクエリするためのメディアクエリを使用することができます。prefers-reduce motionがtrueとして来た場合、モーションを適応させることができます。私が強調したいのは、すべてのアニメーションを削除する必要があるわけではないということです。

アイディアはすべてのアニメーションを削除するのではなく、モーションの酔いを引き起こす可能性があるアニメーションを微調整して減少させることです（上記でリンクされたAppleの記事を参照してください）。たとえば、私のCSS Transition CSSアニメーションデモでは、太陽と月が動き回り、背景の流れる星の上で、太陽系のタイミングが一部の人々にとって問題であるかもしれません。私はprefers-reduced-motion: reduceに以下を実装しました：

- 流れる星を削除しました
- 太陽、雲、月の移動トランジションを削除し、代わりにカラートランジションで置き換えました
- 右側のアニメーションを遅くしました（ほとんど見えません）。
- 地球の回転速度を変更し、太陽のリップル効果を削除しました。

### UI/UXデザインにおけるアクセシビリティとモーション

1. **動きの削減の設定**: 現代のオペレーティングシステム、例えばiOSやmacOS、さらにはブラウザは、動きを削減するユーザーの設定を導入しています。これにより、デザイナーは設計を適応させる必要があります。

2. **開発者とのドキュメント＆コミュニケーション**:
    - **静的なドキュメンテーション**: ストーリーボードのようなクラシックな手法は、複雑なアニメーションを視覚化するのに適しています。アニメーションのタイムラインも役立ちます。
    - **インタラクティブなアニメーションプロトタイプ**: Axure, Figma, Flinto, Framerなどのプロトタイピングツールを使用して、実装前にアニメーションをテストして調整できます。よりイラスト的なアニメーションの場合、After EffectsとLottieFilesプラグインの組み合わせが画期的です。
    - **オンラインでのインスピレーション**: CodepenやCodropsなどのプラットフォームは、開発チームと共有できるアニメーションのインスピレーションを提供しています。

3. **ブラウザのテスト**: ブラウザで直接アニメーションをテストすることで、さまざまなデバイスやネットワークでシームレスに動作することを確認します。

4. **デザインシステムとモーション**:
    - **デザインシステムへの組み込み**: AudiやGoogleのようなブランドは、デザインシステムのドキュメントにモーションを組み込んでいます。
    - **アニメーションとデザイントークン**: モーションは、色やアイコンと同じく、ブランドのアイデンティティの不可欠な部分となっています。アニメーションのドキュメントには、目的、タイプ、タイミング、速度、イージングなどが含まれます。
    - **例**: MicrosoftやFoyerは、デザインシステムでのモーションのドキュメント方法の良いモデルを提供しています。

5. **効果的なアニメーションを構築するための5つの基本的なルール**:
    1. **シンプルに保つ**: アニメーションがユーザーの注意をそらさないことを確認してください。
    2. **短く保つ**: ユーザーをイライラさせる可能性のある長いアニメーションは避けてください。
    3. **意味を持たせる**: アニメーションは価値を追加し、サイトのメッセージに合わせる必要があります。
    4. **ユーザーにコントロールを与える**: ユーザーがアニメーションをオフ/一時停止またはオンにできるようにしてください。
    5. **テストを行う**: さまざまな条件や多様なユーザー、特に障害を持つユーザーを持つ場合のテストを行ってください。

### 結論
アニメーションがUI/UXデザインプロセスの不可欠な部分として続いている中で、ユーザーの好みを理解し、特にアクセシビリティの観点からこれに対応することが極めて重要となっています。適切なドキュメント、開発チームとのコミュニケーション、厳格なテストを通じて、アニメーションがユーザーエクスペリエンスを向上させるものであることを確保することが重要です。

## インタラクションの文書化
### インタラクションの状態とステータス
インタラクティブなコンポーネントに対して、私が最初に文書化しようとするのは、異なるステートです。

私の例では、さまざまなボタンの状態を文書化している：
- デフォルト
- ホバー
- フォーカス
- アクティブ

フォーカスの状態はアクセシビリティにとって重要です。

キーボード・ユーザーがページをナビゲートするときに、自分がどこにいるのかを知るのに役立ちます。
また、"loading "のような「HTML公式ではない」状態を追加することもできます。

チェックボックスには

- default
- focus
- checked
- disabled、
- disabled checked、
- indeterminate
- disabled indeterminate。

最後の2つはHTMLの仕様にはありません。

しかし、ユーザーが複数の行をチェックできるようなテーブルでは、時々必要になります。ラジオボタンも同じですが、indeterminate でないことを除きます。

フォームの input については、コンポーネント・レベルで、
- default
- focus
- filled
- disabled (read only)

という一般的な分類があります。

しかし、例えば、いくつかの追加ステータスを持つことができます：

- error
- success
- information

色だけでなく、テキストやアイコンも使用するでしょう（色だけが情報を伝える方法ではない）。

コンポーネントが使用されるページレベルでは、より明確に指定する必要があります。
右は、フィルターで使用される年入力の例です。 文書化：
- 何がエラーを引き起こすのか（＝エラーケース）
- 正確なメッセージ（コピー）はどうあるべきか。

## マウスとキーボード入力を文書化するインタラクション・フロー
多くのインタラクションを持つ複雑なコンポーネントのために、私は「インタラクション・フロー」を構築。

さまざまなインタラクションがある場合、これらのコンポーネントがどのように動作すべきかをドキュメントに残しましょう。


チェックボックス付きのフィルターを持っています。ユーザがチェックボックスにチェックを入れるとどうなるかを、順を追って説明：

- フィルタを開く、
- 要素にカーソルを合わせる
- フィルターボックスをチェックする、
- 適用ボタンを押す

マウスのインタラクションに加えて、キーボードのインタラクションも記録。
このコンポーネントでもキーボードナビゲーションを表示する、同様のフローに行き着きます：

- コンポーネントを開く方法（enter/space）、閉じる方法（esc）
- 要素間を移動する方法（上下キー）
- ボックスをチェックする方法

https://www.washington.edu/accesstech/checklist/keyboard/

https://tetralogical.com/blog/2021/10/26/browsing-with-a-keyboard/

https://webaim.org/techniques/keyboard/#testing

**キーボード・ナビゲーションを文書化する際に役立つ、ちょっとした備忘録**

- Tabキーでセクション間をジャンプ
- 矢印キーは、コンポーネント内を移動するのに役立ちます
- スペース/エンターキーは、要素をアクティブにします。

**あいまいなリンク**
- 要素の "クリック可能 "な部分がはっきりしないことがあります。特に、コンポーネント全体を包んでいる場合。

**複雑なジェスチャーの代替**
- アクセシビリティとユーザビリティのベストプラクティス。例として、gmailの「右スワイプ」によるアーカイブ機能が挙げられます。

gmail の代替案を文書化するとしたら、次のようなことができるだろう。
複雑なジェスチャーを、右にスワイプしてアーカイブすることを示すモックアップとともに文書化

それから代替案を文書化する：
- メールを長押ししてツールバーを表示し、アーカイブアイコンを押す。
- メールを開き、上部のアイコンを押す。
- 何が複雑なジェスチャーなのか、あるいはそうでないのか

https://tetralogical.com/blog/2023/03/17/foundations-pointer-gestures/

### ズームの動作
複雑なレスポンシブ・ページの場合、「ズーム」の動作を文書化することもできます。ユーザーは、コンテンツを壊すことなく、サイトを400％まで拡大できるようにする必要があります（隠しテキストや画像などはありません）。

私は開発チームに、ズームの動作（と高さ）をブロックしないようにお願いしています。そして、さまざまな解像度やブラウザのズームレベルでサイトをテストしています。

文書化するのがかなり厄介なデザインの側面の1つに、アニメーションとトランジションがある。これらにもアクセシビリティのベストプラクティスがあります。アニメーションやトランジションの中には、乗り物酔いを引き起こすユーザーもいる。ちなみに私もその一人だ。

`prefers-reduced-motion` メディアクエリを使えば、動きの少ないものを好む人のために代替バージョンを提供することができます。

https://stephaniewalter.design/blog/enhancing-user-experience-with-css-animations/#accessibility

## ポイントジェスチャーについて

ポインタージェスチャーとは、支援技術を用いて、人が機能的なコントロールを操作するために行う動作のこと
- 指
- マウス
- ヘッドポインター
- 視線システム

一部のポインタージェスチャーは、特定の人にとって実行が困難であったり、不可能であったりする場合があるため、アクセシブルな代替手段が必要となる場合があります。

### ポインター・ジェスチャーとアクセシビリティ
今日のユーザーインターフェースの多くは、ポインティングやクリック以外のジェスチャーを必要とします。

- メディアプレーヤーのオーディオボリュームを変更するには、トグルをスライダーの上下に動かす必要があるかもしれない。
- ToDoアプリでタスクを整理するには、ページのある領域から別の領域に項目をドラッグする必要があるかもしれません。

タッチスクリーン・デバイスの普及は、キーボードやマウスだけでは不可能だった操作を、指を使って行う新しいジェスチャーを多くの人が学ばなければならなくなったことも意味している。

人によっては、これらのジェスチャーを正確に行うことが難しかったり、ジェスチャーがまったくできなかったりすることがあります。

具体例を挙げると
手先が不器用な人や手の震えがある人は、あるジェスチャーを正確に行うことが難しい場合があります。
- スワイプ
- ドラッグ
- ピンチ
  ヘッドワンドを使用している人は、比較的簡単なジェスチャーしかできないかもしれません。認知障害や学習障害のある人は、理論的には必要なジェスチャーを行うことができても、その方法を理解していない場合がある。

### ポインタージェスチャーを理解する
ポインタージェスチャーには、主に以下の4種類があります：
- シングルポインタージェスチャー
- マルチポイントジェスチャー
- パスベースのジェスチャー
- ドラッグ動作

コンフォーマンスの観点から、ウェブコンテンツ・アクセシビリティ・ガイドラインは、ドラッグ動作と他のポインタ・ジェスチャーを明確に区別していることに注意してください。

マルチポイントジェスチャーとパスベースのジェスチャーは WCAG 2.1 で導入された 2.5.1 Pointer Gestures (Level A)でカバーされ、ドラッグ動作は WCAG 2.2 で導入された 2.5.7 Dragging Movements (Level AA) で個別にカバーされます。

https://www.w3.org/TR/WCAG21/#pointer-gestures

https://www.w3.org/TR/WCAG22/#dragging-movements

### シングルポインタージェスチャー
シングルポインター・ジェスチャーは、マウスやタッチスクリーン上の 1 本の指／スタイラスを使うだけで、最も簡単に実行できます。

シングルポインタージェスチャーの代表的な例には、以下のようなものがあります：
- クリック：ダブルクリックを含む
- タップ：ダブルタップを含む
- プレス：プレス＆ホールドを含む
- スワイプ: コントロールの操作にスワイプの角度が関係ない場合（以下のパスベースのジェスチャに関する注記で詳しく説明します）

ボタン、リンク、チェックボックスは通常、シングルポインタ・ジェスチャーのみで簡潔します。

### マルチポイント・ジェスチャー
マルチポイント・ジェスチャーとは、複数のポインターを同時に使うジェスチャーです。このようなジェスチャはタッチスクリーン環境では一般的です。

マルチポイント・ジェスチャーの代表的な例には、以下のようなものがあります：

- 2本の指をピンチする／広げる：地図アプリケーション内でのピンチ・トゥ・ズームを含む。
- 2本指での回転：ダイヤルコントロールを操作するための2本指での回転など。
- 複数の指を使ったタップ：リスト内の複数項目の選択など

### アクセシブルな代替機能の作成
特定のジェスチャを行うことが困難または不可能な障害者をサポートするために、関連する WCAG 成功基準では、操作に
- マルチポイントジェスチャ
- パスベースのジェスチャ、
- ドラッグ動作

を使用するすべての機能は、パスベースではない単一のポインタジェスチャを使用しても操作可能でなければならないと述べています。

例外は以下の通り：
- ジェスチャが必須であること。
    - 例えば、ステディハンドゲームは、人が細かい運動を含むジェスチャを使用できることに依存しています。
      機能がユーザーエージェントによって決定され、作者によって変更されない。
- デバイスに内蔵されたスクリーンリーダーによって提供される機能などである。

実際には、通常同じ機能を実行する別のコントロールをデザインに追加しますが、シングルタップやシングルクリックのような単一のポインタジェスチャしか必要としません。

パスベースのジェスチャーに関する注意
上述したように、パスベースのジェスチャーを必要とするすべての機能に対して、パスベースではない単一のポインターベースの代替手段を提供する必要があります。

しかし場合によっては、ジェスチャがパスベースであるかどうか、したがってそのような代替手段が必要かどうかを解釈することが、混乱を招くことがあります。これは、ジェスチャーを行う際に人がたどるべき経路が明示的または明白に存在しない場合に典型的です。

つまり、ジェスチャーの正確さです。つまり、ジェスチャーの正確さである：

ジェスチャーの角度や方向が成功に影響しない場合、そのジェスチャーはパスベースのジェスチャーではなく、代替案は必要ありません。

ジェスチャの角度や方向が成功に影響する場合、そのジェスチャはパスベースであり、パスベースではない単一のポインタベースの代替手段が必要です。
これは例で説明するのが一番わかりやすいでしょう。

次のスクリーンショットは、典型的なカルーセルを示しています。人が画面を左右にスワイプしてスライドを移動させます。スワイプジェスチャーの角度や方向は、カルーセルが動くかどうかに影響しない。たとえジェスチャーが少し斜めに行われたとしても、カルーセルは人がスクリーンを横切ってまっすぐスワイプした場合と同じように動作する。したがって、2.5.1 ポインタ・ジェスチャー（レベルA）を満たすために、単一のポインタ・ベース、非パス・ベースの代替手段は必要ない。

ただし、カルーセルがドラッグ操作にも依存している場合は、代替手段の欠如が2.5.7 ドラッグ操作（レベルAA）の不合格の原因となる可能性があることに注意すること。

https://www.w3.org/TR/WCAG21/#pointer-gestures

https://www.w3.org/TR/WCAG22/#dragging-movements

次のスクリーンショットは、同じカルーセルを示しています。ただし今回は、スワイプの角度が左から右、または右から左に完全にまっすぐでなければなりません。例えば、人が少し斜めにスワイプするなど、ずれがあると、カルーセルは期待通りに動きません。そのため、このような場合は、パスベースではない、単一のポインターベースの代替手段が必要となります。

スワイプを成功させるために特定の経路をたどる必要がある場合、単一ポインタ、非経路ベースの代替手段が必要となる。とはいえ、ジェスチャーの角度や方向、精度がジェスチャーの成功に影響しない場合でも、すべてのケースでシングルポインター、パスベースでない代替手段を提供することはグッドプラクティスです。そうすることで、ジェスチャーがパスベースでない場合でも、すべての人、特にジェスチャーが難しいと感じる人にメリットがあります。さらに、コンポーネントの操作に何らかのドラッグ動作が必要な場合は、代替手段が必要であることを覚えておいてください。

## 仕様が重要な理由
デザイナーが数枚の写真をまとめ、設定可能な Figma コンポーネントを公開し、開発者にメインコンポーネントを示し、「Figma の Inspect ツールを使ってください」と言うのは適切でないかもしれません。

まず、Figma の Inspect tool には制限が存在します。

一般的なインスペクションは、行ったすべての決定を見つけるために、深い精査と根気が必要となります。設計意図の理解は、宝探しのようなものであってはなりません。宝の位置がわかっているならば、それを取り出し提示しましょう。

Figma のコンポーネントは、優れたデザインのコンポーネントを作成する際に、全てを明確にしなければならないわけではありません。これには behavior、props、アクセシビリティなどが含まれます。

デザインシステムチームは小規模ながらも十分に効果的であり、合意を形成するために頻繁に同期的にコミュニケーションをとることができました。

### ビルド → コラボレーション・コネクションの弱体化
1つの設計が多数の独立した開発チームに利用されています。チーム間のハンドオフは存在しますが、開発者は要件の理解のためにデザイナーとの密接な関係を持っていないことが多いです。

スペックがこのギャップを埋める役割を果たします。

### Props、motion、accessibility → コンポーネントの複雑さ
コンポーネントは多くの機能やスタイリングをカプセル化します。詳細なアクセシビリティの注意点から、分析、コンテンツ、トークンまで、多くの要素を記述し決定する必要があります。Spec はこれらのギャップを埋めるモデルを提供します。

### 品質と技術 → ネーミングの重要性
コンポーネントの実装前の計画から、実装中の改善や方向転換まで、柔軟に行うことができます。しかし、Spec のハンドオフ時には、構造 (要素とLayerの名前)、構成 (プロパティとオプションの名前)、デフォルトのコンテンツについて議論し決定する必要があります。

### テーマ → トークンのマッピングが必要
コンポーネントの API は、セマンティックトークンがどのように各コンポーネントに import されるか、またテーマがどのように特定の要素や属性をターゲットにして特性を変更するかといった点で拡張されています。Specs はこのマッピングを文書化します。

### 柔軟性 → コンポーネントの複雑性と依存関係
高い柔軟性の要求から、デザインシステムはスロットやサブコンポーネントの考え方を取り入れ、より細かい部品を提供するようになりました。多数のコンポーネントに設定が分散されることが増えています。Spec は、各機能のターゲットを明確にし、決定し、発展させるのに役立ちます。

### エンタープライズ規模 → 変化の記録が必要
システムはブランドの変更、リファクタリング、プラットフォームの変更などの影響を受けつつ、長期間にわたり存在します。設計は徐々に進化し、異なるコード実装は異なるタイミングで設計をアップグレードする可能性があります。仕様書は、このような変化を記録、説明、追跡する手段を提供します。

## 仕様書の置き場
一貫したフォーマットで仕様書を作成し、それを1つのコア仕様書 Figma ファイルに格納します。

このファイルは組織内の全員がアクセス可能ですが、編集はメインブランチの数名のみ（例: デザインシステムのデザインリーダーや1-2人のシニアデザインチームのメンバー）が行えます。

ファイルはLP、コンポーネントの状態、その他のページから構成されています。1ページには1つの Foundation（例: 色）や Component（例: テキスト入力）が記載されています。Foundation と Component のセクションはアルファベット順に並

#### Layout and Spacing
スペーシングは、私たちが配置する各要素を区切ったり、挿入したり、整列させたりする、非常に意図的なスペーシングの選択を強調するのに役立ちます。スペーシング・セクションは、パディング、マージン（Figmaでは、アイテムのスペーシング）、方向、その他の仕組みを説明します。ネストされたレイヤーごとのレイアウトとスペーシングの指定についても言及します。

#### Text Wrapping (テキストラッピング)
テキストラッピング、またはオーバーフローとも呼ばれ、長いテキスト文字列や大きな画像など、過剰なコンテンツで視覚的に何を期待するかを示しています。これらの仕様は、カウンターアライメント（テキスト列の中央揃えなど）やトランケーション（テキスト入力の幅を超える文字の非表示など）の予期せぬ意図を明らかにすることができます。

#### Anatomy (アナトミー)
コンポーネントをパーツに分解し、それぞれのパーツに項目と名前を付け、視覚的な属性（テキストの色など）や構成されたプロパティ（ネストされたコンポーネントの依存関係）を記述することができます。アナトミー仕様には、ネストされたコンポーネント・プロパティと要素ごとの属性が含まれます。

#### Properties (プロパティ)
プロパティ・セクションは、各プロパティを説明し、デフォルトと代替オプションを対比し、視覚的属性とネストされたコンポーネント・プロパティの詳細な違いを記述することができます。複合プロパティ仕様、ライトとダークのバリアントに適用されるトークンとプロップの詳細、コード、アクセシビリティ、コンテンツに関連する視覚的でないプロップも、多くの場合、表形式で強調することができます。

#### Behavior and Animation (動作とアニメーション)
ビヘイビア仕様は、多くの場合、イベント（クリック、マウスダウン、ドラッグなど）を文書化し、そのイベントによって引き起こされる状態の変化をテキストで記述するか、視覚的に描写します。アニメーションの仕様はビヘイビアと混同されることがありますが、これは、イベントのトリガーとステートのシフトが、それらの瞬間の間に発生するモーションの中心だからです。

#### Accessibility (アクセシビリティ)
設計者は、コンポーネントの設計がアクセシブルに実装されていることを保証するために、広範な考慮事項にわたって詳細を追加することができます。Stephanie Walter氏は、2022年のClarity Conferenceで「A Designer's Guide to Documenting Accessibility & User Interactions」という素晴らしい講演を行いました。私はアクセシビリティの専門家ではありませんが、コンポーネントがどのように構築されるかについて監査可能な期待を説明するために、私よりも詳しい多くのデザイナーと仕事をしてきました。例えば、フェリックス・クオと私は、スクリーン・リーディングに関する詳細なセクションを洗練させるために働きました。アートワークは、読み方のフォーマット、実践例（アートワークと一致する）、説明されている要素の役割について、要素ごとの注釈と対になっています。他のコンポーネントのアクセシビリティ仕様の

---
title: "[WIP] ユーザーフロー"
---

## ページ間の相互作用をドキュメントするユーザーフロー

ユーザーフロー（左側）は、「ステップ・バイ・ステップ」のボックスや矢印のグラフのようなもので、誰かがどのようにタスクを達成するかを文書化。ページ、ビュー、分岐、......これらのページやフローを計画するために、プロジェクトの最初に作成されます。

画面フロー（右側）も同じようなものだ。しかし、ページのボックスの代わりに、実際のインターフェイスのモックアップを配置します。ユーザビリティ・テストや改良を経てモックアップができあがったら、最後にそれを作ります。どちらも、開発チームがインターフェイス全体でユーザーがどのようにナビゲートするかを理解するのに役立ちます。

計画へのアクセシビリティに役立つ：

ページ間の遷移。特にシングルページのアプリケーションやモバイルアプリにおいて。
- アラートやメッセージが表示され、ユーザーが別のページに移動しても、ページの一番上に表示され続ける可能性があります。
- セッションの長さがあるかもしれない複数のステップの流れ。
- フォームセッションの長さを制限することは、できる限り避けましょう。

## Wayfinding の文書化
ウェイファインディングとは、人々がページ内で自分の道を見つけるのに役立つもの（ナビゲーションなど）を文書化することです。

ページのHTMLタイトル
今までの例は、ほとんどがコンポーネント・レベルでのドキュメントでした。ページレベルで文書化できることはもっとあります。

例えばページのHTMLタイトルから始めます。
ブラウザのタブに表示される。スクリーンリーダーでもアナウンスされます。これは、ユーザーがどこに何があって、そのページで何が見つけられるかを知るのに役立ちます。
モックアップでこれを文書化することもできます。

### スキップ・リンク
デザイナーは、スキップ・リンクを文書化することもできます。これらは、スクリーンリーダーのユーザーがページのメインコンテンツに直接飛べるようにするリンクです。そして、時には検索に飛ぶこともあります。多くの場合、デフォルトでは「不可視」ですが、フォーカスされると表示されます（そして、スクリーンリーダーによってアナウンスされます）。ヘッダーに常に表示させておくこともできます。あなた次第です。

#### 文書化できる箇所
- リンクがどこにあるか
- フォーカスされたときにどのように見えるか（デフォルトで見えない場合）
- どこにユーザーを送るのか

## HTML Living starndard のセクショニング要素とARIAランドマーク

コンテンツへのスキップは、ユーザーを私のドキュメントの「メイン」と呼ばれるエリアに送っていました。しかし、スクリーン・リーダー・ユーザーのページ上の方向付けを助けるエリアがもっとあります：アリア・ランドマークです。これは、スクリーン・リーダーのユーザーにとって本当に便利なものです。

開発者やアクセシビリティの専門家の助けを借りて、それらの目印を文書化することもできる。

いくつかの HTML セクショニング要素は、自動的に ARIA ランドマーク領域を作成することに注意してください。ですから、main、header、nav などのような HTML 5要素を使う場合、ARIA の役割を二重にする必要はありません。

### ページ内のHTML見出し
適切なHTML見出しは、アクセシビリティのもう一つの重要な側面
H1、H2など。私は2つのことができます：
- モックアップの注釈として見出しレベルを使用する。
- 他のデザイナーが再利用できるように、自分のスタイルに適切な見出しレベルを付けています。

このようなことは、コンテンツ担当者と文書化することもできる。 見出しレベルが必要な場合もあるが、これではSEOが台無しになってしまう。そのような場合は、aria-levels（とpタグ）を使うことができます。開発者に確認してください。例として、私の "let's get in touch "フッターのコードをご覧ください。タイトルはH2と同じですが、これではSEOの意味がありません。そこで、代わりにrole="heading "と "aria-level=2 "を追加した。

https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-level

### ページレベルでのフォーカス順
マウスを使わずに、タブキーを使ってサイトをナビゲートする人もいる。フォーカスの順番は、ページの流れの論理に従うべきです。

Microsoft の Fluent Design System チームによる Figma テンプレート。このような注釈を付けるのに役立つ Figma キットを提供しています。

モックアップが背景にあります。その上に、小さな注釈があります。右側には、フォーカスの順番に対応するドキュメントがあります。この場合、ユーザーはトップナビゲーションと最初の "サイトヘッダー "をナビゲートした後、メインコンテンツに入ります。左のサイドバーから始まり、次に「戻る」リンク、そして最後にコンテンツの右の部分に移動します。

複雑なB2Bアプリで多くのインタラクションを扱うようになれば、かなり便利になるだろう。

### コンポーネントレベルでのフォーカス順
- フォームの場合
  コンポーネント・レベルでのフォーカス順序を文書化することがあります。コンポーネントが複数列のレイアウトになっている場合によく起こります。

多数のチェックボックスを持つ複雑なモーダルで、コンポーネント レベルでこのようなドキュメントを作成した例を示します。モーダル コンテンツ全体のタブ (フォーカス) 順を、数値のアノテーションで文書化しています：

- テキスト フィールド
- 特定の順序のチェックボックス
- キャンセル ボタン、確認
- モーダルの終了

モーダルはエスケープ キーで閉じられるように指定します。

フォーム フィールドに小さな注釈番号を付けたり、順序を示す矢印を付けたりして、これを文書化することができます（これが左の例です）。Figma を使用している場合、Microsoft のチームがプラグイン（A11y Focus order）を作成しました。このプラグインでは、要素を選択し、それらに番号を付けることができます。また、並び替えもできます。

https://www.figma.com/community/plugin/731310036968334777/A11y---Focus-Order



---
title: "[WIP] 代替コンテンツとマークアップの文書化"
---
画像の代替と支援技術(スクリーン・リーダー)のアナウンス
モックアップに画像またはアイコンがある場合、デザイナーは、支援技術が何をアナウンスすべきかを文書化することができます。

私はこの画像の代替テキストを文書化するために注釈のテクニックを使っている：
- 画像上の数字
- 右側の代替詳細文書
  また、保存、共有、評価の3つのボタンがあります。それぞれにアイコンとラベルがあります。注釈では、スクリーン・リーダーはアイコンのために何もアナウンスすべきではないと説明しています。 そうしないと、同じ情報が2度表示されることになり、煩わしいからです。

開発者がアイコンをどのように実装するかはわかりません。
そのため、空のaltにするのか、role=presentationにするのか、......正確に文書化しないほうがいいと思います。その後、どのように実装されるかを反映するためにドキュメントを更新。

altテキストフィールドも開発する必要があるということです。このトピックに興味があるなら、ATAG: Authoring Tool Accessibility Guidelinesを見てみましょう。

https://www.w3.org/WAI/standards-guidelines/atag/

スクリーン・リーダーが必要です。

再度、注釈を使用して、それを文書化します：

1番目は "グラフを見る"
2番目は "表を表示"
開発チームの助けを借りれば、これをさらに一歩進めることができる。彼らは、いくつかのARIA状態（selectedなど）のドキュメントを追加することができます。

発表されたコンテンツの順序
また、発表されたコンテンツの順序を文書化することもできる。これは、順序がHTMLフローと異なる可能性がある場合に興味深いものです。ほとんどの場合、アナウンスされた順序と視覚的な順序を同じにしたいことに注意してください。

この例では、料理レシピの "サムネイル "コンポーネントの小さなバージョンを用意しました。このコンポーネントはグリッドページで使用されます。縦長のレイアウトで、一番上に画像があり、その上に保存ボタンがあります。そしてカテゴリー、レシピのタイトルと概要。

画像は表示させたくない、なぜならたくさん表示されるから。
H1タイトルは最初に announce されるべきです。これが私のデザインで大きな太字になっている理由だ。視覚的に階層を伝えるためだ。だからこれが1番になる。
保存ボタンは、たとえ視覚的に一番上にあったとしても（主にスペースを確保するため）、HTMLの一番下にして、最後に告知すべきです。
では、どのように実装しますか？Access42 のアクセシビリティ・エキスパートである Marie Guillaumet が説明してくれた：

「タイトルが視覚的にはカテゴリの後に表示されるとしても、HTML コードではタイトルを前に置く必要があります。こうすることで、スクリーンリーダーはタイトルを読み、次にカテゴリーを読みます。それから、CSS を使って、コンポーネント内で視覚的に順序を逆転させます」。

スクリーン・リーダーのトピックをさらに掘り下げたいのであれば、以下をお勧めする：

デザインのアクセシビリティをテストするための4ステッププロセス

https://ux.shopify.com/a-4-step-process-for-testing-the-accessibility-of-your-designs-17bc95bceafe

### 支援技術のための追加コンテンツ
スクリーン・リーダーの利用者が追加情報を必要とすることがあります。

この例で言えば、通知バッジにいくつもの項目があるとする。ただ数を告げるだけでは混乱するかもしれない。異なるシナリオに対して、どのようにアナウンスすべきかを文書化することができます：

- 私の文書に新しい文書はありません（通知がない場合）
- 自分のドキュメントに新しいドキュメントが5つある（5つある場合）
- タスクに新しいタスクがない
- 自分のタスクに新しいタスクが5つある（5つある場合）

専門家がお手伝いできるフォーム・アクセシビリティの文書化
フォームのアクセシビリティのために文書化できることはまだまだあります。

しかし、これには専門家や開発者の助けがもう少し必要かもしれません。多くの例では、開発者やアクセシビリティの専門家と協力することで、その文書にさらに次のような情報を追加することができます：

- 正しいHTMLセマンティック要素（ボタンを使っているのか、hrefリンクを使っているのか）
- ARIAの役割
- ARIAステートとプロパティ

例えばフォームの場合は、次のように追加できます：
- 正しい HTML5 タイプは何ですか？
- 私の例では、右のフィールドの横に小さなピンクの注釈があります：option, type=date, type=search。
- このフィールドは、オートコンプリート、オートフィルなど（属性）を持つことになっていますか？
- 凡例とフィールドのグループ化マークアップ
- ページが開いたときにフォーカスされるデフォルトの要素（必要な場合、多くの場合必要ありません
- キャプションやトランスクリプトなどの外部ドキュメントへのアクセス。

最後に、デザインファイルで文書化できないこともあります。そういったものについては、外部ソースへのリンクを提供することがよくあります。

そのような例としては
ビデオのキャプション。プレーン・テキストのトランスクリプトへのリンクや、.srt ファイルへのリンクを提供することができます。音声トランスクリプト用のHTML/テキストリソース（ポッドキャスト用など）
アンカーを含むリンク/CTAのリスト。「ここをクリック」リンクは、アクセシビリティ上もユーザビリティ上も最悪です。避けたいものです。多くの場合、コンテンツ担当者（SEO や UX ライター）は、実際の URL、アンカー、タイトルなどを記載したリンクのリストを提供します。
