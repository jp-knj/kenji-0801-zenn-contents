---
title: "デザインとコードの統一 : コンポーネントドキュメント"
---

アクセシビリティは目的地ではなく、旅行のようなものです。「できない」を「してみたい」に変える旅行です。

アクセシビリティを優先にしたコンポーネントの仕様を決める過程を説明します。プロダクトデザインの過程に適用できる情報や具体的な例を共有します。

## コンポーネントを知ろう
### 標準を知ろう
コンポーネントの HTML 構造とアクセシビリティの配慮を前もって確立しておくと、中長期で不必要な悩みを省くことができます。
良い技術的な理解を深め、あらゆる制限を理解するのに役立ちます。コンポーネントのプラクティスを調査するときの 4 つの情報源を確認します。

#### WCAG
Web アクセシビリティの業界全体の基準は WCG になります。Web コンテンツアクセシビリティガイドラインです。ほとんどのチームは WCAG AA の基準を満たすことを目指します。ほとんどのユーザーがあなたのプロダクトを利用できることを意味します。 
Web Accessibility Initiative（WAI）はアクセシビリティのためのドキュメント、デザイン、開発について簡潔なガイドラインを提供しています。固有のコンポーネントのガイドラインについては、WAI の Web アクセシビリティチュートリアルや ARIA Authoring Practices Guide のパターンセクションを参照してください。

#### MDN
MDN web docs は素晴らしいです。コンポーネントを検索すると、セマンティックな HTML 構造、属性、アクセシビリティの懸念事項を探せます。

#### 技術記事
Inclusive Components は、アクセシビリティを考慮したコンポーネントの例を提供しています。Smashing Magazine は、アクセシビリティに関する記事を探すのに役立ちます。

#### 他のデザインシステム
Component Gallery や Design System's Docs Search は、調査しているコンポーネントを検索できるデザインシステムの集約サイトです。FigJam や Miro のようなホワイトボードツールでデザインシステムのドキュメントをペーストアップすると、比較に役立ちます。デザインシステムに含まれているからといって、アクセシブルである保証はありません。プロダクトのユーザーに適しているとは限りません。注意を払い、導入してください。

### パンくずリストで考えよう
コンポーネントを構築する過程の各段階を提示します。

多くの方がパンくすリストを知っているでしょう。Web サイトをナビゲートを助けるリンクのリストです。
- [WCAG 2.4.8: Location](https://www.w3.org/WAI/WCAG21/Techniques/general/G65.html) を満たします
- `nav` 要素でラップします。スクリーンリーダーなどの支援ツールのユーザーがパンくすリストをナビゲーションのランドマークとして識別できるようになります。ランドマークをラベル付けするには `aria-label="breadcrumbs"` を使用しましょう
- `ol` 要素を使用したリンクで構成されています
- `li` 要素間の divider は、`aria-hidden` を使用してスクリーンリーダーでアナウンスさせないようにします。装飾要素としてのみ使用します
- 現在のページのリンクには `aria-current` を使用します

アクセシビリティの改善を始めたばかりの方は、難解に感じるかもしれません。大丈夫です、一緒に仕様を詳しく見ていく中で、何を意味するのかを解説していきます。

#### コンポーネントの構造
調査はしました。基礎となる HTML 構造出来上がっているとき、この知識を使用してコンポーネントの構造を組み立てれます。
コンポーネントは、アイコン、ボタン、リンク、リストのような小さな構成要素があります。構造をスケッチすることで、チームと思考を共有します。

複雑なコンポーネントの場合には、要素や命名規則について合意するのに役立ちます。

### オプションを考えよう  
コンポーネントに必要なさまざまなユースケースのオプションを定義する必要があります。コンポーネントを利用するチームから来た場合、すべての要件について話し合ってください。すべての機能を最初から構築する必要はありませんが、最初からスコープを理解することで、将来の拡張を考慮した合理的な選択ができます。

コンポーネントには、次の 2 つのオプションを含めます。
- サイズ： 他のコンポーネントとの視覚的な一貫性を持たせるための sm, md, lg の 3 つのサイズ 
- カスタマイズ可能な divider ：デフォルトのアイコンを上書きするか、アイコンでない別のコンポーネントを使用できます。

### 状態を考えよう
コンポーネントがインタラクティブな場合、状態を考慮する必要があります。

バリデーションをサポートするチェックボックスのようなフォームコンポーネントのとき、予想よりも多くの状態が存在するかもしれません。十分な色のコントラストと視覚的な違いを確認するために、状態を仕様化します。WebAim は、不確かな場合の色のコントラストのアクセシビリティに関する役立つガイドを提供しています。

ボタンやフォームのような HTML 要素では、状態のスタイリングはブラウザのデフォルトのスタイルになります。
focus できる要素を強調して表示させます。明確な focus indicator は、アクセシビリティにとって重要です。
ユーザーはページ上の位置を確認し、ナビゲートできます。focus indicator のアクセシビリティに関する詳細な情報は、Sara Soueidan のガイドを参照してください。

#### 状態
以下の状態を含めました。
- デフォルト
- ホバー
- フォーカス
- セレクト 

### 動作を考えよう
コンポーネントの動作を仕様化します。

- それはフル幅か固定幅か
- テキストは折り返されるか、またはオーバーフローするか
- バリデーションは必要ですか
- ブラウザのサイズを変更するとどうなりますか

他の Web サイトでコンポーネントがどのように動作するかを見て、適切な動作を決定するための要件を再評価してください。

#### 動作
動作はシンプルに保ちましょう。
- デフォルトでは、現在のページのパンくずリストの項目は非インタラクティブとして表示されます
- 接尾にある divider はデフォルトで非表示です。必要に応じて表示に設定できます

### キーボードの操作とフォーカスの順序を考えよう
キーボードの操作は Web のアクセシビリティにとって不可欠です。これは、視覚障がい者、身体障がい者、そして障がいを持たない人々のために役立ちます。多くの人々はキーボードでナビゲートする方が効率的だと感じています。

#### コンポーネント内のインタラクティブな要素
ボタン、リンク、コントロールはキーボードのみでアクセス可能でなければなりません。
- Tab キーは各インタラクティブな要素間を移動するために使用されます
- 上下キーはスクロールのために使用されます
- Space キーや Enter キーはインタラクションのために使用されます

ページの視覚的な流れに従って、コンポーネントのための論理的で直感的なタブの順序を考えてください。

#### ARIA
ARIA(Accessible Rich Internet Application) は、スクリーンリーダーなどの支援技術を使用する人々にとって HTML 要素をよりアクセスしやすくするための属性です。ARIA は、HTML が支援技術に情報を公開しない場面で役立ちます。ARIA と HTML の使用時期については、ARIA 入門を参照してください。

コンポーネントに ARIA タグを追加することは、利用するチームにとって役立つ場合があります。使用方法をドキュメントに記載し、属性がデフォルトとして動作するのか、カスタマイズが必要かどうかを示してください。

ARIA を注意して使用してください。要素に ARIA を追加しても、それが自動的にアクセスしやすくなるわけではありません。誤って使用すると、実際には経験を悪化させたり、支援技術を使用する人々にとっての障害となる可能性があります。WAI の「Bad ARIA よりも No ARIA が良い」という文書で詳細を確認してください。

### Props とオーバーライド
仕様を定義したら、定義したオプションと動作をサポートするために必要な props とオーバーライドについて考えます。ユーザーの立場になってコンポーネントの機能をステップバイステップで進めるのが好きです。サイズを設定し、アイコンを表示や非表示にするための prop が必要です。スタイリングと余白を変更するためのオーバーライドも役立つでしょう。

### フィードバックの共有
この段階で、仕様をフィードバック共有する準備が整いました。コンポーネントが他メンバーからのリクエストであるとき、仕様が他メンバーの要件を満たしているかどうかを確認するために、彼らとミーティングするのが賢明です。アクセシビリティの考慮点を強調してください。エンジニアとデザイナーの両方に広く共有してください。全員が参加してリサーチをレビューし、提案を行う週次の技術分析セッションを実施していました。仕様を考慮する UI デザイナーなら、何かを見落とすことでしょう。他メンバーはより良い方法や新しいコーディングを提案することがよくあります。コンポーネントを育てるには、メンバーの力が必要です。

コンポーネントの仕様が整ったら、ビルドに移り、サポートドキュメントを書きます。完了の定義には、テストツールを使用した自動テストや手動のアクセシビリティテストの両方を含めるようにしてください。

コンポーネントを調査し、仕様を作成するための検討された過程は、チームがコーディングとアクセシビリティの高い基準を設定できます。これがアクセシブルなプロダクトを意味するわけではありませんが、堅牢な基盤を提供します。

## コンポーネントのドキュメンテーションの意義
コンポーネントのドキュメンテーションは、高品質な UI を構成する要素の 1 つです。明確なドキュメンテーションは、開発者がインタラクションやアクセシビリティを効率的に理解できるようにデザインされています。このドキュメンテーションの作成過程は計画と努力を伴い、UI の目的や役割を明確に伝えるためのガイドラインが組み込まれます。

### ドキュメンテーションの戦略的なアプローチ
以下の 3 つの要素を考慮します。これらの要素は、ドキュメンテーションの目的を達成するために必要なものです。
- **対象読者の特定** : ドキュメントを作成するときの最初のステップは、誰のためのものなのかを理解することでしょう。エンジニアとデザイナーは主要な対象読者です。しかし、彼らだけではないです。内容に応じて、対象読者は変わるかもしれません。外部に公開して、リクルーティングのツールとして利用されるかもしれないためです。公開することで、品質や協同作業の実践を提示できます。
- **コンテンツの戦略** : エンジニアやデザイナーが効率良く使用できるようにするために、さまざまなニーズや使用頻度に応じて、コンテンツの戦略を構築します。
- **ガイダンスの提供**: コンポーネントの使い方やデザイン、コードに関する詳細なガイダンスを提供します。

対象読者や利用者に焦点を当てています。以下、それを詳しく解説します。

### 対象者の優先順位
- **エンジニア**：技術的な側面やコンポーネントの使い方、実装方法など、具体的なコード関連の詳細を求めるでしょう
- **デザイナー**：ビジュアルやユーザーエクスペリエンスの側面、コンポーネントの見た目や動作、使用ケースなどを理解するために、コンポーネントのドキュメントを参照するでしょう
一方を優先する場合、その選択は多くの要因、例えば目的、使用頻度、コンテンツの深さや質、制作コストなどに基づくでしょう。

※ 対象読者にはプロダクトマネージャーや QA が含まれ、それぞれの専門性に応じた情報やガイダンスを求めることもあるでしょう。

システムやライブラリのドキュメントを作成する際には、ニーズと期待を理解し、それに基づいて内容を整理・最適化することが必要です。ニーズが競合する場合、最終的なプロダクトに最も影響を与える素材（通常はコード）を優先することで、効果的なドキュメントを作成することができます。
その目的は、効率的にシステムを使用する手助けをすることであり、その範囲はエンジニアやデザイナーだけに限定されるものではありません。チームが効果的に作業を進めるためには、全員がこのドキュメンテーションから利益を得られるようにします。

### コンテンツ戦略の組み込み
デザインシステムに対する私の考えは、創造的プロセスにおける効果的なコミュニケーションと協力の必要性と深く共鳴しています。そして私たちが生産するアーティファクトに焦点を当てることよりも少なく。ゲームがルールが不明確であるか、恣意的に変更されると魅力を失うのと同じように、デザインプロセスは共有された理解の欠如によって妨げられる可能性があります。デザインを民主化し、多様な視点からの貢献を可能にするという目標は、組織内での革新と包摂性を促進するための重要なステップです。

組織のコミュニケーション構造がそのシステムデザインに影響を与えるということは、会話と創造の間の関係を強調しています。アクセス可能なドキュメントは、フラストレーションを減少させ、役割や背景を超えた共有言語を育成するための触媒となります。
ドキュメントが創造性と技術の間の橋渡しとしての重要性が明らかになることを願っています。アイディアは、ドキュメントが静的なエンティティではなく、デザインシステム自体の有機的な成長を反映した動的で進化する会話であるということです。共同プロセスの各段階は、私たちが生産するドキュメントに反映されます。

この複雑なドキュメントのスペクトルをナビゲートするために、以下の原則を覚えておいてください。
- 本質的な瞬間を収集・整理する
- 決定を文脈付けする
- 思考を整理する方法で体系的である
- フォーマットを統一する
- 言葉が足りないところでイラストを使用する
- アクセシビリティを確保する
- 定期的な更新を約束する
これらの原則は、協力、透明性、成長に焦点を当てた包括的で一貫したデザインシステムを養うための指針として機能します。

本質的に、デザインシステムのドキュメント化の旅は、システム自体の開発と並行しています。きのこの果実が複雑なネットワークの下の一部分に過ぎないのと同じように、可視的なアーティファクトはデザインシステムのストーリーにおける氷山の一角に過ぎません。E メールやスケッチから洗練されたガイドラインに至るまでのすべての形式のドキュメントの価値を認識することで、このプロセス全体を受け入れることで、より調和の取れた効果的なデザインエコシステムに向けて指導するようにお願いします。

デザインとコードの関連性
コンポーネント・ドキュメントは、その設計やコードをどのように表現するかについての意図的な選択を反映しています。しかし、多くの場合、実際のドキュメントはデザインチームとエンジニアリングチームが独立して作成し公開することが一般的です。これには利点と欠点があります。

利点：
専門性: デザイナーはデザインに特化したドキュメントを、エンジニアは技術的な詳細に焦点を当てたドキュメントを作成することができます。これにより、各オーディエンスに最適化された情報が提供されます。

柔軟性: デザインとエンジニアリングのチームはそれぞれの専門知識に基づいてドキュメントを更新することができ、一方が他方を待つ必要がありません。

欠点：
非同期化: 時間とともに、デザインドキュメントとコードドキュメントの間で差異が生じる可能性があります。これは、一貫性の欠如や混乱を招く恐れがあります。

繋がりの欠如: 別々のドキュメントは、ユーザーが必要な情報を探し求める際に追加の手間や混乱を生む可能性があります。

Google Materialの例
GoogleのMaterial Designは、デザインの基盤から実際の実装に至るまで、その範囲が非常に広いため、分断化して情報を提供しています。しかし、このような大規模なフレームワークでは、デザインとコードを別々に公開するのが理にかなっています。しかし、多くの組織やプロジェクトはGoogleのような広範囲なシステムを持っていないため、このアプローチは必ずしも最適ではありません。

統合の重要性
最終的には、統合されたドキュメントが最も利用者にとって有益である可能性が高いです。これにより、デザインとコードのガイドラインを一元的に提供し、ユーザーに一貫した情報を提供することができます。しかし、これを実現するためには、デザインとエンジニアリングのチームが連携してドキュメントを作成・維持する必要があります。

まとめ
コンポーネント・ドキュメントを作成する際には、デザインとコードの情報をどのように統合するか、または分離するかを慎重に検討する必要があります。この決定は、プロジェクトの目的、チームの構成、およびユーザーのニーズに基づいて行う必要があります。

https://uxplanet.org/design-system-documentation-90cb6b63b7da
https://backlight.dev/blog/design-system-documentation-best-practices
https://dribbble.com/resources/design-system-documentation
https://backlight.dev/mastery/the-best-design-system-documentation-sites
https://thedesignsystem.guide/documentation
https://zeroheight.com/blog/how-to-document-your-design-system-components/
https://www.uxpin.com/studio/blog/design-system-documentation-guide/
https://www.supernova.io/blog/design-system-documentation-why-you-need-it-and-how-to-do-it
https://www.supernova.io/blog/documentation-is-a-living-thing-how-we-talk-informs-what-we-make

https://www.supernova.io/blog/how-to-create-accessible-design-system-components

WCAG
https://waic.jp/translations/WCAG21/

WCAG AA
https://www.w3.org/WAI/WCAG21/quickref/?currentsidebar=%23col_customize&levels=aaa

https://www.w3.org/WAI/design-develop/

WAI tutorials
https://www.w3.org/WAI/design-develop/#tutorials

パターンセクション
https://www.w3.org/WAI/ARIA/apg/patterns/

Inclusive Components
https://inclusive-components.design/

Smashing Magazine
https://www.smashingmagazine.com/2021/03/complete-guide-accessible-front-end-components/

https://component.gallery

https://designsystems.directory/#gsc.tab=0

Contrast and Color Accessibility
https://webaim.org/articles/contrast/

focus-indicators
https://www.sarasoueidan.com/blog/focus-indicators/

https://web.dev/learn/accessibility/aria-html/#introduction-to-aria

https://www.w3.org/WAI/ARIA/apg/practices/read-me-first/